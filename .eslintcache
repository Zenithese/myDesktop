[{"/Users/justin/Desktop/stuff/projects/react-desktop/src/index.js":"1","/Users/justin/Desktop/stuff/projects/react-desktop/src/App.js":"2","/Users/justin/Desktop/stuff/projects/react-desktop/src/reportWebVitals.js":"3","/Users/justin/Desktop/stuff/projects/react-desktop/src/context_menu/contextmenu.js":"4","/Users/justin/Desktop/stuff/projects/react-desktop/src/folder/folder.js":"5","/Users/justin/Desktop/stuff/projects/react-desktop/src/contents/contents.js":"6","/Users/justin/Desktop/stuff/projects/react-desktop/src/folder/placeholder.js":"7","/Users/justin/Desktop/stuff/projects/react-desktop/src/folder/ghostFolder.js":"8","/Users/justin/Desktop/stuff/projects/react-desktop/src/contents/contentsBorder.js":"9","/Users/justin/Desktop/stuff/projects/react-desktop/src/floating_search_button/floating_search_button.js":"10","/Users/justin/Desktop/stuff/projects/react-desktop/src/gapi/gapi.js":"11","/Users/justin/Desktop/stuff/projects/react-desktop/src/doc/doc.js":"12","/Users/justin/Desktop/stuff/projects/react-desktop/src/greeting/greeting.js":"13"},{"size":500,"mtime":1611514424229,"results":"14","hashOfConfig":"15"},{"size":7050,"mtime":1611724136276,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":1609553990775,"results":"17","hashOfConfig":"15"},{"size":6853,"mtime":1611769407059,"results":"18","hashOfConfig":"15"},{"size":7049,"mtime":1611754536397,"results":"19","hashOfConfig":"15"},{"size":6777,"mtime":1611754488585,"results":"20","hashOfConfig":"15"},{"size":770,"mtime":1609890428843,"results":"21","hashOfConfig":"15"},{"size":5258,"mtime":1610938738328,"results":"22","hashOfConfig":"15"},{"size":3897,"mtime":1611714595423,"results":"23","hashOfConfig":"15"},{"size":4334,"mtime":1611534330525,"results":"24","hashOfConfig":"15"},{"size":6004,"mtime":1611684904608,"results":"25","hashOfConfig":"15"},{"size":8745,"mtime":1611534313054,"results":"26","hashOfConfig":"15"},{"size":1599,"mtime":1611356147684,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"19nqxo8",{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"30"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"30"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"30"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"30"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"30"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"/Users/justin/Desktop/stuff/projects/react-desktop/src/index.js",[],["65","66"],"/Users/justin/Desktop/stuff/projects/react-desktop/src/App.js",["67"],"import './App.css';\nimport { useEffect, useState } from 'react';\nimport ContextMenu from './context_menu/contextmenu';\nimport Folder from './folder/folder';\nimport Contents from './contents/contents';\nimport FloatingSearchButton from './floating_search_button/floating_search_button';\nimport Doc from './doc/doc';\nimport Greeting from './greeting/greeting'\n\nfunction App() {\n\n  const [signedInUser, setSignedInUser] = useState(null)\n  const [displayGreeting, setDisplayGreeting] = useState(false)\n  const [background, setBackground] = useState(\"App background-1\")\n  const [top, setTop] = useState(\"0px\")\n  const [left, setLeft] = useState(\"0px\")\n  const [directionReveal, setDirectionReveal] = useState(\"right-reveal\")\n  const [parentClassName, setParentClassName] = useState(\"new-location\")\n  const [display, setDisplay] = useState(\"none\")\n  const [contexts, setContexts] = useState([])\n  const [opened, setOpened] = useState([])\n  const [closeSearch, setCloseSearch] = useState(false)\n  const [driveDocuments, setDriveDocuments] = useState([])\n  const [folders, setFolders] = useState({})\n  const [accessToken, setAccessToken] = useState(null)\n  const [dimensions, setDimensions] = useState({\n    height: window.innerHeight,\n    width: window.innerWidth\n  })\n\n  useEffect(() => {\n    function handleResize() {\n      setDimensions({\n        height: window.innerHeight,\n        width: window.innerWidth\n      })\n    }\n    window.addEventListener('resize', handleResize)\n    return _ => {\n      window.removeEventListener('resize', handleResize)\n    }\n  })\n\n  const rightClick = (e) => {\n    e.preventDefault()\n    setDisplay(\"block\")\n    setParentClassName(\"contextmenu\")\n    if (e.clientX > (window.innerWidth / 4) * 3) {\n      e.clientY > (window.innerHeight / 4) * 3 ? setDirectionReveal(\"left-reveal bottom\") : setDirectionReveal(\"left-reveal\")\n      setTop(e.clientY + \"px\")\n      setLeft(e.clientX + 160 + \"px\")\n    } else {\n      e.clientY > (window.innerHeight / 4) * 3 ? setDirectionReveal(\"right-reveal bottom\") : setDirectionReveal(\"right-reveal\")\n      setTop(e.clientY + \"px\")\n      setLeft(e.clientX + 5 + \"px\")\n    }\n    if (e.target.className === \"folder-image\") {\n      setContexts([\n        {\n          type: \"li\",\n          text: \"Delete Folder\",\n          id: e.target.id\n        },\n        {\n          type: \"li\",\n          text: \"Open separate window\",\n          id: e.target.id\n        }\n      ])\n    } else if (e.target.className === \"file-image\") {\n      setContexts([{\n        type: \"li\",\n        text: \"Delete File\",\n        id: e.target.id\n      }])\n    } else {\n      setContexts([\n        {\n          type: \"li\",\n          text: \"New Folder\",\n          id: `nf-${e.target.id}`\n        },\n        {\n          type: \"li with context\",\n          text: \"Change Background\",\n          array: [\n            {\n              type: \"li\",\n              text: \"Classic Windows\",\n            },\n            {\n              type: \"li\",\n              text: \"Oranges\",\n            },\n            {\n              type: \"li\",\n              text: \"Sky\",\n            },\n          ]\n        },\n      ])\n    }\n  }\n\n  const handleClick = (e) => {\n    e.preventDefault()\n    setDisplay(\"none\")\n    if (!e.target.closest(\".keep-open\")) setCloseSearch(true)\n  }\n\n  useEffect(() => {\n    setParentClassName(\"new-location\")\n  }, [parentClassName])\n\n  const renderFolders = () => {\n    const renderFolders = []\n    for (const folder in folders) {\n      if (folders[folder].parent === null) {\n        renderFolders.push(\n          folders[folder].type ? \n          <Doc \n            id={folder}\n            top={folders[folder].top}\n            left={folders[folder].left}\n            title={folders[folder].title}\n            parent={folders[folder].parent}\n            webViewLink={folders[folder].webViewLink}\n            iconLink={folders[folder].iconLink}\n            folders={folders}\n            setFolders={setFolders}\n            accessToken={accessToken}\n            dimensions={dimensions}\n            key={folder}\n          />\n          :\n          <Folder\n            id={folder}\n            top={folders[folder].top}\n            left={folders[folder].left}\n            title={folders[folder].title}\n            folders={folders}\n            setFolders={setFolders}\n            parent={null}\n            dimensions={dimensions}\n            opened={opened}\n            setOpened={setOpened}\n            key={folder} \n          />\n        )\n      }\n    }\n    return renderFolders\n  }\n\n  const renderContents = () => {\n    return opened.map((folder, index) => {\n      if (folders[folder].contentX === null) initOpen(folder, index)\n      return <Contents\n        id={`c-${folder}`}\n        children={folders[folder].children}\n        folders={folders}\n        setFolders={setFolders}\n        contentX={folders[folder].contentX}\n        contentY={folders[folder].contentY}\n        contentWidth={folders[folder].contentWidth}\n        contentHeight={folders[folder].contentHeight}\n        dimensions={dimensions}\n        opened={opened}\n        setOpened={setOpened}\n        accessToken={accessToken}\n        key={`c-${folder}`}\n      />\n    })\n  }\n\n  const initOpen = (folder, index) => {\n    const temp = { ...folders }\n    const contentPos = { x: 300 + (index * 15), y: 300 - (index * 15) }\n    opened.forEach(folder => {\n      const { contentX, contentY } = folders[folder]\n      if (contentX === contentPos.x && contentY === contentPos.y) {\n        contentPos.x = contentPos.x + ((opened.length - index) * 15)\n        contentPos.y = contentPos.y - ((opened.length - index) * 15)\n      }\n    })\n    folders[folder].contentX = contentPos.x\n    folders[folder].contentY = contentPos.y\n    setFolders(temp)\n  }\n\n  return (\n    <div id=\"App\"\n      className={background}\n      onClick={(e) => handleClick(e)}\n      onContextMenu={(e) => rightClick(e)}>\n      <Greeting\n        displayGreeting={displayGreeting}\n        setDisplayGreeting={setDisplayGreeting}\n        folders={folders}\n        setFolders={setFolders}\n        accessToken={accessToken}\n        setAccessToken={setAccessToken}\n        setDisplayGreeting={setDisplayGreeting}\n        signedInUser={signedInUser}\n        setSignedInUser={setSignedInUser}\n      /> \n      <div style={{ \"display\": display, \"position\": \"fixed\", \"top\": top, \"left\": left, \"flexDirection\": \"row-reverse\", \"zIndex\": \"10000\" }}>\n        <ContextMenu\n          parentClassName={parentClassName}\n          directionReveal={directionReveal}\n          folders={folders}\n          setFolders={setFolders}\n          array={contexts} \n          setBackground={setBackground}\n          setOpened={setOpened}\n        />\n      </div>\n      {renderFolders()}\n      {renderContents()}\n      <FloatingSearchButton \n        closeSearch={closeSearch} \n        setCloseSearch={setCloseSearch} \n        driveDocuments={driveDocuments} \n        setDriveDocuments={setDriveDocuments}\n        folders={folders} \n        setFolders={setFolders} \n        dimensions={dimensions}\n      />\n    </div>\n  );\n}\n\nexport default App;","/Users/justin/Desktop/stuff/projects/react-desktop/src/reportWebVitals.js",[],"/Users/justin/Desktop/stuff/projects/react-desktop/src/context_menu/contextmenu.js",["68","69"],"import './context_menu.css'\nimport {useState, useEffect} from 'react';\n\nexport default function ContextMenu({ array, parentClassName, directionReveal, folders, setFolders, setBackground, setOpened }) {\n\n    const [openContexts, setOpenContexts] = useState([]);\n    const [update, setUpdate] = useState(true);\n\n    let num = 0\n    useEffect(() => {\n        setOpenContexts(oldArray => [...oldArray, \"closed\"])\n    }, [num])\n\n    const handleClick = (e) => {\n        if (e.target.innerHTML === \"New Folder\") {\n            const temp = { ...folders }\n            const id = Math.floor(Math.random() * 1000000000000000)\n            if (e.target.id.slice(3) === \"App\") {\n                temp[id] = {\n                    'top': e.pageY,\n                    'left': e.pageX,\n                    'title': 'New Folder',\n                    'parent': null,\n                    'children': [],\n                    'contentX': null,\n                    'contentY': null,\n                    'contentWidth': 300,\n                    'contentHeight': 300\n                }\n            } else {\n                const parent = Number(e.target.id.slice(5))\n                temp[id] = {\n                    'top': e.pageY,\n                    'left': e.pageX,\n                    'title': 'New Folder',\n                    'parent': parent,\n                    'children': [],\n                    'open': false,\n                    'contentX': null,\n                    'contentY': null,\n                    'contentWidth': 300,\n                    'contentHeight': 300\n                }\n                temp[parent].children.push(id)\n            }\n            setFolders(temp)\n        } else if (e.target.innerHTML === \"Open separate window\") {\n            setOpened(prev => {\n                const id = e.target.id\n                if (prev.includes(Number(id))) {\n                    const border = document.getElementById(`b-${id}`)\n                    border.className = \"flash\"\n                    setTimeout(() => {\n                        border.className = \"\"\n                    }, 2000);\n                    return prev\n                }\n                if (document.getElementById(`b-${folders[id].parent}`)) {\n                    const temp = { ...folders }\n                    if (temp[temp[id].parent].contentX <= temp[id].contentX + 10\n                        && temp[temp[id].parent].contentX >= temp[id].contentX - 10) {\n                        temp[id].contentX = temp[id].contentX + 15\n                    }\n                    if (temp[temp[id].parent].contentY <= temp[id].contentY + 10\n                        && temp[temp[id].parent].contentY >= temp[id].contentY - 10) {\n                        temp[id].contentY = temp[id].contentY + 15\n                    }\n                    setFolders(temp)\n                }\n                return [...prev, Number(id)]\n            })\n        } else if (e.target.innerHTML === \"Delete Folder\" || e.target.innerHTML === \"Delete File\") {\n            const temp = { ...folders };\n            (function recursiveDelete(id = e.target.id, inital = true) {\n                if (temp[id].children) {\n                    temp[id].children.forEach(ID => {\n                        if (temp[ID].children) {\n                            recursiveDelete(ID, false)\n                        } \n                        setOpened(prev => prev.filter(_id => _id != ID))\n                        delete temp[ID]\n                    })\n                }\n                if (inital) {\n                    if (e.target.innerHTML === \"Delete File\") {\n                        if (temp[id].parent) temp[temp[id].parent].children = temp[temp[id].parent].children.filter(folderId => folderId !== id)\n                    } else {\n                        if (temp[id].parent) temp[temp[id].parent].children = temp[temp[id].parent].children.filter(folderId => folderId !== Number(id))\n                    }\n                    setOpened(prev => prev.filter(_id => _id != id))\n                    delete temp[id]\n                    setFolders(temp)\n                } \n                // delete temp[id]\n            })();\n        } else if (e.target.innerHTML === \"Classic Windows\") {\n            setBackground(\"App background-1\")\n        } else if (e.target.innerHTML === \"Oranges\") {\n            setBackground(\"App background-2\")\n        } else if (e.target.innerHTML === \"Sky\") {\n            setBackground(\"App background-3\")\n        }\n    }\n\n    const list = array.map((item, i) => {\n        if (item.type === \"li\") return <div className=\"contextmenu\" id={item.id} onClick={(e) => handleClick(e)} key={i}>{item.text}</div>\n        if (item.type === \"li with context\") {\n            num++\n            return (\n                <NestedContext \n                    text={item.text} \n                    array={item.array} \n                    parentClassName={parentClassName} \n                    key={i} openContexts={openContexts} \n                    setOpenContexts={setOpenContexts}\n                    num={num - 1}\n                    update={update}\n                    setUpdate={setUpdate}\n                    directionReveal={directionReveal} \n                    setBackground={setBackground}\n                    setOpened={setOpened}\n                />\n            )\n        }\n        return null\n    })\n\n    return (\n        <div className={directionReveal}>\n            {list}\n        </div>\n    )\n}\n\nfunction NestedContext({ text, array, parentClassName, openContexts, num, setOpenContexts, update, setUpdate, directionReveal, setBackground, setOpened }) {\n\n    const [className, setClassName] = useState(\"contextmenu\")\n\n    useEffect(() => {\n        if (parentClassName === \"contextmenu\") setClassName(\"contextmenu\")\n    }, [parentClassName])\n\n    useEffect(() => {\n        if (openContexts[num] === \"closed\") setClassName(\"contextmenu\")\n    }, [update, openContexts, num])\n\n    const onHover = () => {\n        setClassName(\"selector\")\n        setOpenContexts(array => {\n            for (let i = 0; i < array.length; i++) {\n                i === num ? array[i] = \"open\" : array[i] = \"closed\"\n            }\n            return array\n        })\n        setUpdate(!update)\n    }\n\n    const onLeave = (e) => {\n        if (e.target.className === \"contextmenu\") return\n        setClassName(\"contextmenu\")\n        openContexts[num] = \"closed\"\n    }\n\n    return (\n        <div className=\"more-context\" onMouseOver={() => onHover()}>\n            <div className={className} onMouseOver={() => onHover()} onMouseLeave={(e) => onLeave(e)}>\n                {text + \" =>\"}\n            </div>\n            <div className=\"nested-context\" >\n                <ContextMenu array={array} parentClassName={className} directionReveal={directionReveal} setBackground={setBackground} setOpened={setOpened} />\n            </div>\n        </div>\n    )\n}","/Users/justin/Desktop/stuff/projects/react-desktop/src/folder/folder.js",["70","71","72","73","74","75","76"],"import './folder.css';\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport ContentEditable from 'react-contenteditable';\nimport { debounce } from 'lodash';\n\nexport default function Folder({ left, top, title, parent, id, folders, setFolders, dimensions, opened, setOpened }) {\n\n  const folderEl = useRef(null)\n  const [value, setValue] = useState(title)\n  const [className, setClassName] = useState(\"droppable folder\")\n  const [offSetX, setOffSetX] = useState(0)\n  const [offSetY, setOffSetY] = useState(0)\n  const [position, setPosition] = useState(parent ? \"grid\" : \"fixed\")\n  const [x, setX] = useState(left)\n  const [y, setY] = useState(top)\n  const [z, setZ] = useState(\"0\")\n  const [nest, setNest] = useState(null)\n  const [originalPos, setOriginalPos] = useState([0, 0])\n  const [update, setUpdate] = useState(false)\n  // const [stopped, setStopped] = useState(false)\n\n  useEffect(() => {\n    let mounted = true\n    if (update && nest && mounted) {\n      if (checkParents(nest.id.slice(2), folderEl.current.id.slice(2))) {\n        alert(\"Nesting a folder into itself is not permitted\")\n        nest.className = nest.className.slice(8)\n        if (parent) {\n          setPosition(null)\n          setNest(null)\n        } else {\n          setX(originalPos[0])\n          setY(originalPos[1])\n          setNest(document.querySelector(\".App\"))\n        }\n        return\n      }\n      const nestClassName = nest.className.split(\" \")\n      const temp = { ...folders }\n      if (nestClassName[1] === \"droppable\") {\n        if (temp[temp[id].parent]) temp[temp[id].parent].children = temp[temp[id].parent].children.filter(folderId => folderId !== id)\n        temp[nest.id.slice(2)].children.push(Number(id))\n        temp[id].parent = Number(nest.id.slice(2))\n        setPosition(null)\n        setFolders(temp)\n        nest.className = nest.className.slice(8)\n      } else if (nest.id === \"App\") {\n        if (temp[temp[id].parent]) temp[temp[id].parent].children = temp[temp[id].parent].children.filter(folderId => folderId !== id)\n        temp[id].parent = null\n        temp[id].top = y\n        temp[id].left = x\n        setFolders(temp)\n      }\n      setUpdate(false)\n      return function cleanup() { mounted = false }\n    } \n  })\n\n  useEffect(() => {\n    if (offSetY) {\n      document.addEventListener('mousemove', drag)\n      document.addEventListener('mouseup', stop)\n    }\n  }, [offSetY])\n\n  useEffect(() => {\n    if (position === null) {\n      if (nest) {\n        setY(nest.getBoundingClientRect().top)\n        setX(nest.getBoundingClientRect().left + 3)\n      }\n      setPosition(\"grid\")\n    } else if (position === \"fixed\") {\n      if (parent !== null) {\n        document.querySelector(\".App\").appendChild(folderEl.current)\n      }\n    }\n  }, [position])\n\n  const checkParents = (nestID, folderID) => {\n    // debugger\n    if (nestID == folderID) {\n      console.log(\"subfolder conflict\")\n      return true\n    }\n    if (folders[nestID] && folders[nestID].parent) {\n      return checkParents(folders[nestID].parent, folderID)\n    }\n  }\n\n  const start = (e) => {\n    setOriginalPos([x, y])\n    setClassName(\"folder\")\n    setZ(\"1000\")\n    // setStopped(false)\n    setOffSetX(e.pageX - e.target.getBoundingClientRect().left + 5)\n    setOffSetY(e.pageY - e.target.getBoundingClientRect().top + 5)\n  }\n\n  const drag = (e) => {\n    e.preventDefault()\n    if (position !== \"fixed\") setPosition(\"fixed\")\n    if (folderEl.current) {\n      setY(Math.min(Math.max(0, e.pageY - offSetY), document.body.clientHeight - folderEl.current.offsetHeight))\n      setX(Math.min(Math.max(0, e.pageX - offSetX), document.body.clientWidth - folderEl.current.offsetWidth))\n    }\n    nestFolder(e)\n  }\n\n  const stop = (e) => {\n    e.preventDefault()\n    if (parent !== null && document.getElementById(`c-${parent}`) && e.target.parentElement.parentElement.parentElement.id === \"App\") {\n      document.getElementById(`c-${parent}`).appendChild(folderEl.current)\n    }\n    setUpdate(true)\n    setOffSetX(0)\n    setOffSetY(0)\n    setZ(\"0\")\n    setClassName(\"droppable folder\")\n    // setStopped(true)\n    if (!nest && !parent) setNest(document.querySelector(\".App\"))\n    document.removeEventListener('mousemove', drag)\n    document.removeEventListener('mouseup', stop)\n  }\n\n  const handleDoubleClick = () => {\n    if (opened.includes(Number(id))) {\n      const border = document.getElementById(`b-${id}`)\n      border.className = \"flash\"\n      setTimeout(() => {\n        border.className = \"\"\n      }, 2000);\n      return\n    }\n    setOpened(prev => {\n      if (folders[id].parent) {\n        const temp = { ...folders }\n        temp[id].contentX = temp[folders[id].parent].contentX\n        temp[id].contentY = temp[folders[id].parent].contentY\n        temp[id].contentWidth = temp[folders[id].parent].contentWidth\n        temp[id].contentHeight = temp[folders[id].parent].contentHeight\n        setFolders(temp)\n        prev = prev.filter(ID => folders[id].parent !== ID)\n      }\n      return [ ...prev, Number(id)]\n    })\n  }\n\n  const nestFolder = (e) => {\n    e.preventDefault()\n    const folder = e.target.parentElement ? e.target.parentElement.parentElement : null;\n    if (folder) {\n      folder.hidden = true\n      let nestable = document.elementFromPoint(e.clientX, e.clientY)\n      if (nestable = nestable.closest(\".droppable\")) {\n        const prevCurrent = document.querySelector(\".current\")\n        if (prevCurrent && prevCurrent !== nestable) prevCurrent.className = prevCurrent.className.slice(8)\n        if (nestable.className.slice(0, 7) !== \"current\") {\n          nestable.className = \"current \" + nestable.className\n          setNest(nestable)\n        }\n      } else if (nestable = document.querySelector(\".current\")) {\n        nestable.className = nestable.className.slice(8)\n        setNest(document.querySelector(\".App\"))\n      }\n      folder.hidden = false\n    }\n  }\n\n  const handleInput = (e) => {\n    const name = e.target.value.replace(/&nbsp;/g, \" \")\n    setValue(name)\n    delayedQuery(name.length ? name : null);\n  }\n\n  const delayedQuery = useCallback(\n    debounce((name) => {\n      const temp = { ...folders }\n      temp[id].title = name\n      setFolders(temp)\n    }, 500),\n    []\n  );\n\n  return (\n    <div id={`f-${id}`}\n      ref={folderEl}\n      className={className}\n      style={{ \"position\": position, \"top\": Math.min(y, dimensions.height - 94), \"left\": Math.min(x, dimensions.width - 94), \"zIndex\": z }}>\n      <div className=\"folder-image-container\">\n        <img draggable=\"false\"\n          id={id}\n          className=\"folder-image\"\n          alt=\"\"\n          src=\"http://icon-park.com/imagefiles/folder_icon_yellow.png\"\n          onMouseDown={(e) => start(e)}\n          onDoubleClick={() => handleDoubleClick()} \n        />\n      </div>\n      <div className=\"folder-name-container\" >\n        <ContentEditable\n          id=\"input\"\n          html={value}\n          data-column=\"item\"\n          className=\"content-editable\"\n          onChange={(e) => handleInput(e)} \n        />\n      </div>\n    </div>\n  )\n}","/Users/justin/Desktop/stuff/projects/react-desktop/src/contents/contents.js",["77","78"],"import './contents.css'\nimport React, { useState, useEffect, useRef } from 'react'\nimport ContentsBorder from './contentsBorder'\nimport Folder from '../folder/folder'\nimport Doc from '../doc/doc'\n\nexport default function Contents({ id, children, folders, setFolders, contentX, contentY, contentWidth, contentHeight, dimensions, opened, setOpened, accessToken }) {\n\n    const contentsEl = useRef(null)\n    const contentsContainerEl = useRef(null)\n    const [gridRow, setGridRow] = useState(\"\")\n    const [gridCol, setGridCol] = useState(\"\")\n    const [offSetX, setOffSetX] = useState(0)\n    const [offSetY, setOffSetY] = useState(0)\n    const [x, setX] = useState(contentX)\n    const [y, setY] = useState(contentY)\n    const [className, setClassName] = useState(\"droppable contents\")\n    const [width, setWidth] = useState(contentWidth)\n    const [height, setHeight] = useState(contentHeight)\n    const [dropped, setdropped] = useState(false)\n\n    useEffect(() => {\n        const contents = contentsEl.current\n        const width = contents.clientWidth\n        const height = contents.clientHeight\n        const row = Math.floor(height / 100)\n        const col = Math.floor(width / 100)\n        setGridRow(\"100px \".repeat(row))\n        setGridCol(\"100px \".repeat(col))\n        const children = contents.children\n        for (let i = 0; i < children.length; i++) {\n            children[i].style.gridRowStart = Math.floor(i / col) + 1\n            children[i].style.gridColumnStart = (i + 1) % col || col\n        }\n    })\n\n    useEffect(() => {\n        if (offSetY) {\n            document.addEventListener('mousemove', drag)\n            document.addEventListener('mouseup', stop)\n        }\n    }, [offSetY])\n\n    useEffect(() => {\n        if (dropped) {\n            const temp = { ...folders }\n            temp[id.slice(2)].contentX = x\n            temp[id.slice(2)].contentY = y\n            setFolders(temp)\n            setdropped(false)\n        }\n    }, [dropped, folders, id, x, y, setFolders])\n\n    const start = (e) => {\n        if (e.target.className === \"close-button\" || e.target.className === \"back-button\") return\n        setClassName(\"contents\")\n        setOffSetX(e.pageX - e.target.getBoundingClientRect().left)\n        setOffSetY(e.pageY - e.target.getBoundingClientRect().top)\n    }\n\n    const drag = (e) => {\n        e.preventDefault()\n        if (contentsContainerEl.current) {\n            setY(Math.min(Math.max(0, e.pageY - offSetY), document.body.clientHeight - contentsContainerEl.current.offsetHeight))\n            setX(Math.min(Math.max(0, e.pageX - offSetX), document.body.clientWidth - contentsContainerEl.current.offsetWidth))\n        }\n    }\n\n    const stop = (e) => {\n        e.preventDefault()\n        setOffSetX(0)\n        setOffSetY(0)\n        setClassName(\"droppable contents\")\n        setdropped(true)\n        document.removeEventListener('mousemove', drag)\n        document.removeEventListener('mouseup', stop)\n    }\n\n    const handleClose = () => {\n        const _id = Number(id.slice(2))\n        setOpened(prev => prev.filter(id => id !== _id))\n    }\n\n    const handleBack = () => {\n        const _id = Number(id.slice(2))\n        const border = document.getElementById(`b-${folders[_id].parent}`)\n        if (border) {\n            border.className = \"flash\"\n            setTimeout(() => {\n                border.className = \"\"\n            }, 2000);\n            return\n        }\n        if (folders[_id].parent) {\n            setOpened(prev => {\n                const temp = { ...folders }\n                temp[folders[_id].parent].contentX = temp[_id].contentX\n                temp[folders[_id].parent].contentY = temp[_id].contentY\n                temp[folders[_id].parent].contentWidth = temp[_id].contentWidth\n                temp[folders[_id].parent].contentHeight = temp[_id].contentHeight\n                setFolders(temp)\n                prev = prev.filter(id => id !== _id)\n                return [...prev, Number(folders[_id].parent)]\n            })\n        }\n    }\n\n    const handleMouseDown = (e) => {\n        if (e.target.className === \"close-button\" || e.target.className === \"folder-image\" || e.target.className === \"file-image\" || e.target.className === \"back-button\") return\n        document.querySelector(\".App\").appendChild(contentsContainerEl.current)\n    }\n\n    const renderChildren = children.map(child => {\n        return (\n            folders[child].type ? \n            <Doc \n                id={child}\n                top={folders[child].top}\n                left={folders[child].left}\n                title={folders[child].title}\n                parent={folders[child].parent}\n                webViewLink={folders[child].webViewLink}\n                iconLink={folders[child].iconLink}\n                folders={folders}\n                setFolders={setFolders}\n                accessToken={accessToken}\n                dimensions={dimensions}\n                key={child}\n            />\n            :\n            <Folder \n                id={child}\n                top={folders[child].top}\n                left={folders[child].left} \n                title={folders[child].title} \n                children={folders[child].children} \n                parent={folders[child].parent} \n                folders={folders}\n                setFolders={setFolders}\n                dimensions={dimensions}\n                opened={opened}\n                setOpened={setOpened}\n                key={child} \n            />\n        )\n    })\n\n    return (\n        <div ref={contentsContainerEl}\n            className=\"contents-container\"\n            onMouseDown={(e) => handleMouseDown(e)}\n            style={{ \"display\": \"grid\", \"top\": Math.min(y, dimensions.height - height - 5), \"left\": Math.min(x, dimensions.width - width - 5), \"width\": `${width}px`, \"height\": `${height}px` }}>\n            <ContentsBorder \n                id={id.slice(2)}\n                width={width} \n                setWidth={setWidth} \n                height={height} \n                setHeight={setHeight} \n                setX={setX} \n                setY={setY} \n                folders={folders}\n                setFolders={setFolders} />\n            <div className=\"contents-handle\"\n                onMouseDown={(e) => start(e)}>\n                <div className=\"close-button\" onClick={() => handleClose()}>&#10006;</div>\n                <div className=\"back-button\" onClick={() => handleBack()}>&#x25C0;</div>\n            </div>\n            <div\n                id={id}\n                ref={contentsEl}\n                className={className}\n                style={{ \"gridTemplateColumns\": gridCol, \"gridTemplateRows\": gridRow, \"width\": `${width}px`, \"height\": `${height - 15}px` }}>\n                {renderChildren}\n            </div>\n        </div>\n    )\n}","/Users/justin/Desktop/stuff/projects/react-desktop/src/folder/placeholder.js",[],["79","80"],"/Users/justin/Desktop/stuff/projects/react-desktop/src/folder/ghostFolder.js",["81","82","83","84","85","86"],"/Users/justin/Desktop/stuff/projects/react-desktop/src/contents/contentsBorder.js",["87","88"],"import './contents.css'\nimport React, { useState, useEffect } from 'react';\n\nexport default function ContentsBorder({ id, width, setWidth, height, setHeight, setX, setY, folders, setFolders }) {\n\n    const [section, setSection] = useState(null)\n    const [startX, setStartX] = useState(null)\n    const [startY, setStartY] = useState(null)\n    const [startWidth, setStartWidth] = useState(null)\n    const [startHeight, setStartHeight] = useState(null)\n    const [offSetX, setOffSetX] = useState(0)\n    const [offSetY, setOffSetY] = useState(0)\n    const [finished, setFinished] = useState(false)\n\n    useEffect(() => {\n        if (finished) {\n            const temp = { ...folders }\n            temp[id].contentWidth = width\n            temp[id].contentHeight = height\n            setFolders(temp)\n            setFinished(false)\n        }\n    })\n\n    useEffect(() => {\n        if (section) {\n            document.addEventListener('mousemove', drag)\n            document.addEventListener('mouseup', stop)\n        }\n    }, [section])\n\n    const start = (e) => {\n        setSection(e.target.className)\n        setStartX(e.pageX)\n        setStartY(e.pageY)\n        setStartWidth(width)\n        setStartHeight(height)\n        setOffSetX(e.pageX - e.target.getBoundingClientRect().right)\n        setOffSetY(e.pageY - e.target.getBoundingClientRect().bottom)\n    }\n\n    const drag = (e) => {\n        e.preventDefault()\n        if (section === \"side-top\") {\n            setHeight(Math.max(startHeight - e.pageY + startY, 150))\n            setY(Math.min(e.pageY - offSetY, startY + startHeight - offSetY - 150))\n        } else if (section === \"side-left\") {\n            setWidth(Math.max(startWidth - e.pageX + startX, 150))\n            setX(Math.min(e.pageX - offSetX, startX + startWidth - offSetX - 150))\n        } else if (section === \"side-right\") {\n            setWidth(Math.max(startWidth + e.pageX - startX, 150))\n        } else if (section === \"side-bottom\") {\n            setHeight(Math.max(startHeight + e.pageY - startY, 150))\n        } else if (section === \"corner-1\") {\n            setWidth(Math.max(startWidth - e.pageX + startX, 150))\n            setHeight(Math.max(startHeight - e.pageY + startY, 150))\n            setX(Math.min(e.pageX - offSetX, startX + startWidth - offSetX - 150))\n            setY(Math.min(e.pageY - offSetY, startY + startHeight - offSetY - 150))\n        } else if (section === \"corner-2\") {\n            setWidth(Math.max(startWidth + e.pageX - startX, 150))\n            setHeight(Math.max(startHeight - e.pageY + startY, 150))\n            setY(Math.min(e.pageY - offSetY, startY + startHeight - offSetY - 150))\n        } else if (section === \"corner-3\") {\n            setWidth(Math.max(startWidth - e.pageX + startX, 150))\n            setHeight(Math.max(startHeight + e.pageY - startY, 150))\n            setX(Math.min(e.pageX - offSetX, startX + startWidth - offSetX - 150))\n        } else if (section === \"corner-4\") {\n            setWidth(Math.max(startWidth + e.pageX - startX, 150))\n            setHeight(Math.max(startHeight + e.pageY - startY, 150))\n        }\n    }\n\n    const stop = (e) => {\n        e.preventDefault()\n        document.removeEventListener('mousemove', drag)\n        document.removeEventListener('mouseup', stop)\n        setSection(null)\n        setFinished(true)\n    }\n\n    return (\n        <div id={`b-${id}`} onMouseDown={(e) => start(e)}>\n            <div className=\"corner-1\"></div>\n            <div className=\"corner-2\"></div>\n            <div className=\"corner-3\"></div>\n            <div className=\"corner-4\"></div>\n            <div className=\"side-top\" style={{ \"width\": width }}></div>\n            <div className=\"side-left\" style={{ \"height\": height }}></div>\n            <div className=\"side-right\" style={{ \"height\": height }}></div>\n            <div className=\"side-bottom\" style={{ \"width\": width }}></div>\n        </div>\n    )\n}",["89","90"],"/Users/justin/Desktop/stuff/projects/react-desktop/src/floating_search_button/floating_search_button.js",["91","92"],"import { gapi } from 'gapi-script';\nimport { debounce } from 'lodash';\nimport './floating_search_button.css'\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport Doc from '../doc/doc'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearchPlus } from '@fortawesome/free-solid-svg-icons'\n\nexport default function FloatingSearchButton({ closeSearch, setCloseSearch, driveDocuments, setDriveDocuments, folders, setFolders, dimensions }) {\n\n    const inputEl = useRef(null)\n    const [className, setClassName] = useState(\"fsb\")\n    const [resultsClassName, setResultsClassName] = useState(\"results-closed\")\n    const [currentResult, setCurrentResult] = useState(0)\n\n    useEffect(() => {\n        if (closeSearch) {\n            setClassName(\"fsb\")\n            setCloseSearch(false)\n            setResultsClassName(\"results-closed\")\n        }\n    })\n\n    const handleClick = (e) => {\n        if (e.target.className === \"left-arrow\" \n            || e.target.className === \"right-arrow\" \n            || e.target.className === \"fsb-input\"\n            || e.target.className === \"results-open\"\n            || e.target.id === \"input\") return;\n        setCurrentResult(0)\n        setDriveDocuments([])\n        setClassName(\"fsb-open\")\n        setResultsClassName(\"results-open\")\n        inputEl.current.value = \"\"\n        inputEl.current.focus()\n    }\n\n    const handleArrowClick = (dir) => {\n        if (dir === \"right\") {\n            setCurrentResult((currentResult + 1) % driveDocuments.length)\n        } else {\n            setCurrentResult(currentResult ? (currentResult - 1) % driveDocuments.length : driveDocuments.length - 1)\n        }\n    }\n\n    const renderResults = () => {\n        if (driveDocuments[currentResult]) {\n            const { id, name, webViewLink, iconLink } = driveDocuments[currentResult]\n            return (\n                <Doc\n                    id={id}\n                    title={name}\n                    folders={folders}\n                    left={null}\n                    top={null}\n                    parent={\"search\"}\n                    setFolders={setFolders}\n                    setCloseSearch={setCloseSearch}\n                    searchItem={true}\n                    webViewLink={webViewLink}\n                    iconLink={iconLink}\n                    dimensions={dimensions}\n                />\n            )\n        }\n    }\n\n    const handleChange = (e) => {\n        delayedQuery(e.target.value.length ? `name contains '${e.target.value}'` : null);\n    }\n\n    const delayedQuery = useCallback(\n        debounce((q) => listFiles(q), 500),\n        []\n    );\n\n    const listFiles = (searchTerm = null) => {\n        if (searchTerm) {\n            gapi.client.drive.files.list({\n                pageSize: 10,\n                'fields': \"nextPageToken, files(kind, id, name, webViewLink, iconLink, mimeType)\",\n                q: searchTerm,\n            })\n                .then(function (response) {\n                    const res = JSON.parse(response.body);\n                    setDriveDocuments(res.files);\n                });\n        } else {\n            setDriveDocuments([]);\n        }\n    };\n\n    return (\n        <div className=\"fsb-container keep-open\"\n            onClick={(e) => handleClick(e)}>\n            <div className=\"fsb-left\"></div>\n            {resultsClassName === \"results-closed\" ? <div className=\"center-search\"><FontAwesomeIcon icon={faSearchPlus} /></div> : null}\n            <div className={className}>\n                <input ref={inputEl} className=\"fsb-input\" onChange={(e) => handleChange(e)}></input>\n            </div>\n            <div className=\"fsb-right\"></div>\n            {\n                driveDocuments[currentResult] ?\n                    <div\n                        id={resultsClassName}\n                        className={resultsClassName}>\n                        <div className=\"left-arrow\" onClick={() => handleArrowClick(\"left\")}></div>\n                        <div id=\"results-container\" className=\"results-container\">\n                            {renderResults()}\n                        </div>\n                        <div className=\"right-arrow\" onClick={() => handleArrowClick(\"right\")}></div>\n                    </div>\n                    :\n                    null\n            }\n        </div>\n    )\n}","/Users/justin/Desktop/stuff/projects/react-desktop/src/gapi/gapi.js",["93"],"import './gapi.css'\nimport { gapi } from 'gapi-script';\nimport React, { useState, useEffect } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSignOutAlt } from '@fortawesome/free-solid-svg-icons'\n\nconst CLIENT_ID = process.env.REACT_APP_CLIENT_ID;\nconst API_KEY = process.env.REACT_APP_API_KEY;\nconst DISCOVERY_DOCS = ['https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'];\nconst SCOPES = \"https://www.googleapis.com/auth/drive  https://www.googleapis.com/auth/drive.appdata\";\n\nexport default function GAPI({ folders, setFolders, accessToken, setAccessToken, signedInUser, setSignedInUser }) {\n    const [updatable, setUpdatable] = useState(false)\n    const [appDataId, setAppDataId] = useState(null)\n\n    useEffect(() => {\n        if (!signedInUser) {\n            handleClientLoad()\n        } else {\n            fileExists(\"nerwer_data\")\n        }\n    }, [signedInUser])\n\n    useEffect(() => {\n        if (updatable && appDataId && accessToken) {\n            const xhr = new XMLHttpRequest();\n            xhr.open('PATCH', 'https://www.googleapis.com/upload/drive/v3/files/' + appDataId + '?uploadType=media');\n            xhr.setRequestHeader('Authorization', 'Bearer ' + accessToken);\n            xhr.responseType = 'json';\n            xhr.send(JSON.stringify(folders));\n        }\n    }, [folders, updatable, appDataId, accessToken])\n\n    /**\n     *  Sign in the user upon button click.\n     */\n    const handleAuthClick = (event) => {\n        gapi.auth2.getAuthInstance().signIn();\n    };\n\n    /**\n     *  Called when the signed in status changes, to update the UI\n     *  appropriately. After a sign-in, the API is called.\n     */\n    const updateSigninStatus = (isSignedIn) => {\n        if (isSignedIn) {\n            // Set the signed in user\n            const instance = gapi.auth2.getAuthInstance()\n            setSignedInUser(instance.currentUser.je.Qt);\n\n            // get access token\n            const key = Object.keys(instance.currentUser)[0]\n            const key2 = Object.keys(instance.currentUser[key])[1]\n            setAccessToken(instance.currentUser[key][key2].access_token)\n        } else {\n            // prompt user to sign in\n            // handleAuthClick();\n            // greeting()\n        }\n    };\n\n    /**\n     *  Sign out the user upon button click.\n     */\n    const handleSignOutClick = () => {\n        gapi.auth2.getAuthInstance().signOut();\n        setSignedInUser(null);\n    };\n\n    /**\n     *  Initializes the API client library and sets up sign-in state\n     *  listeners.\n     */\n    const initClient = () => {\n        gapi.client\n            .init({\n                apiKey: API_KEY,\n                clientId: CLIENT_ID,\n                discoveryDocs: DISCOVERY_DOCS,\n                scope: SCOPES,\n            }).then(\n                function () {\n                    // Listen for sign-in state changes.\n                    gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);\n\n                    // Handle the initial sign-in state.\n                    updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n                },\n                function (error) { \n                    alert(JSON.stringify(error, null, 2));\n                }\n            );\n    };\n\n    const handleClientLoad = () => {\n        gapi.load('client:auth2', initClient);\n    };\n\n    function fileExists(fileName) {\n        const request = gapi.client.drive.files.list({\n            spaces: 'appDataFolder',\n            fields: 'files(id, name, modifiedTime)'\n        });\n        request.execute(res => {\n            const appData = res.files.find(f => f.name === fileName)\n            if (appData) {\n                gapi.client.drive.files.get({\n                    'fileId': appData.id,\n                    'alt': 'media'\n                }).then(r => {\n                    setFolders(JSON.parse(r.body))\n                    setAppDataId(appData.id)\n                    setUpdatable(true)\n                })\n            } else {\n                createPositionsFile()\n            }\n        });\n    };\n\n    function createPositionsFile() {\n        var file = new Blob([JSON.stringify(folders)], { type: 'text/javascript' });\n        var metadata = {\n            'name': 'nerwer_data', // Filename at Google Drive\n            'mimeType': 'text/javascript', // mimeType at Google Drive\n            'parents': ['appDataFolder']\n        };\n        // id: \"1aQcrCKWjnS9uU2cYpWEHioC2JkswMdkcHPiokt6aGc2ydBwBfA\"\n        var form = new FormData();\n        form.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));\n        form.append('file', file);\n\n        var xhr = new XMLHttpRequest();\n        xhr.open('post', 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + accessToken);\n        xhr.responseType = 'json';\n        xhr.onload = () => {\n            console.log(xhr.response.id); // Retrieve uploaded file ID.\n        };\n        xhr.send(form);\n    }\n\n    const handleReset = () => {\n        const xhr = new XMLHttpRequest();\n        xhr.open('PATCH', 'https://www.googleapis.com/upload/drive/v3/files/' + appDataId + '?uploadType=media');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + accessToken);\n        xhr.responseType = 'json';\n        xhr.send(JSON.stringify({}));\n    }\n\n    return (\n        <div className=\"auth-container\">\n            {signedInUser ? \n                <button className=\"center\" onClick={() => handleSignOutClick()}><FontAwesomeIcon icon={faSignOutAlt} /></button>\n                : \n                <button onClick={() => handleAuthClick()}>Authorize</button>}\n            {signedInUser ? \n                \" to lose said functionality!\"\n                : \n                \" to gain said functionality!\"}\n            <button style={{ position: \"fixed\", top: \"0\", left: \"0\" }}onClick={() => handleReset()}>reset</button>\n        </div>\n    );\n};","/Users/justin/Desktop/stuff/projects/react-desktop/src/doc/doc.js",["94","95","96","97","98","99","100","101"],"import './doc.css'\nimport React, { useState, useEffect, useRef, useCallback } from 'react'\nimport ContentEditable from 'react-contenteditable'\nimport docImage from './filledDrive.png'\nimport { debounce } from 'lodash'\n\nconst API_KEY = process.env.REACT_APP_API_KEY;\n\nexport default function Doc({ id, title, parent, left, top, folders, setFolders, setCloseSearch, searchItem, webViewLink, iconLink, accessToken, dimensions }) {\n\n    const fileEl = useRef(null)\n    const [className, setClassName] = useState(\"file\")\n    const [inputClassName, setInputClassName] = useState(\"file-name-container\")\n    const [value, setValue] = useState(null)\n    const [offSetX, setOffSetX] = useState(0)\n    const [offSetY, setOffSetY] = useState(0)\n    const [position, setPosition] = useState(parent ? \"grid\" : \"fixed\")\n    const [x, setX] = useState(left)\n    const [y, setY] = useState(top)\n    const [z, setZ] = useState(\"0\")\n    const [nest, setNest] = useState(null)\n    const [duplicate, setDuplicate] = useState(false)\n    const [update, setUpdate] = useState(false)\n    const [originalPos, setOriginalPos] = useState([0, 0])\n\n    useEffect(() => {\n        if (nest && update) {\n            const nestClassName = nest.className.split(\" \")\n            const temp = { ...folders }\n\n            let replace = true;\n            if (duplicate) {\n                if (temp[id].parent === null) {\n                    alert(`${temp[id].title} already exist on the desktop`)\n                    replace = false\n                } else {\n                    debugger\n                    if (nest.id.slice(2) == temp[id].parent) {\n                        alert(`${temp[id].title} already exist in this folder`)\n                    } else if (temp[temp[id].parent] ? window.confirm(`${temp[id].title} already exist in folder ${temp[temp[id].parent].title} -- move it?`) : true) {\n                        console.log(\"replacing\")\n                    } else {\n                        replace = false\n                    }\n                }\n            }\n            \n            if (!temp[id]) {\n                temp[id] = {\n                    'top': null,\n                    'left': null,\n                    'title': title,\n                    'parent': null,\n                    'type': 'doc',\n                    'webViewLink': webViewLink,\n                    'iconLink': iconLink\n                }\n            } else if (temp[temp[id].parent]) {\n                temp[temp[id].parent].children = \n                temp[temp[id].parent].children.filter(folderId => folderId !== id)\n            }\n            \n            if (!replace) {\n                setFolders(temp)\n            } else if (nestClassName[1] === \"droppable\") {\n                temp[nest.id.slice(2)].children.push(Number(id) ? Number(id) : id)\n                temp[id].parent = Number(nest.id.slice(2))\n                setPosition(null)\n                setFolders(temp)\n                nest.className = nest.className.slice(8)\n            } else if (nest.id === \"App\") {\n                temp[id].parent = null\n                temp[id].top = y\n                temp[id].left = x\n                setFolders(temp)\n            }\n            if (searchItem) {\n                document.getElementById(\"results-container\").appendChild(fileEl.current)\n                setY(null)\n                setX(null)\n            }\n            setUpdate(false)\n        }\n    })\n\n    useEffect(() => {\n        if (offSetY) {\n            document.addEventListener('mousemove', drag)\n            document.addEventListener('mouseup', stop)\n        }\n    }, [offSetY])\n\n    useEffect(() => {\n        if (position === null) {\n            setY(nest.getBoundingClientRect().top)\n            setX(nest.getBoundingClientRect().left + 3)\n            setPosition(\"grid\")\n        } else if (position === \"fixed\") {\n            if (parent !== null) {\n                document.querySelector(\".App\").appendChild(fileEl.current)\n            }\n        }\n    }, [position])\n\n    const start = (e) => {\n        if (folders[id] && e.target.closest(\".keep-open\")) {\n            setDuplicate(true)\n        } else if (duplicate) {\n            setDuplicate(false)\n        }\n        setOriginalPos([x, y])\n        setClassName(\"file\")\n        setZ(\"1000\")\n        setOffSetX(e.pageX - e.target.getBoundingClientRect().left + 5)\n        setOffSetY(e.pageY - e.target.getBoundingClientRect().top + 5)\n    }\n\n    const drag = (e) => {\n        e.preventDefault()\n        if (position !== \"fixed\") setPosition(\"fixed\")\n        if (fileEl.current) {\n            setY(Math.min(Math.max(0, e.pageY - offSetY), document.body.clientHeight - fileEl.current.offsetHeight))\n            setX(Math.min(Math.max(0, e.pageX - offSetX), document.body.clientWidth - fileEl.current.offsetWidth))\n        }\n        nestFolder(e)\n    }\n\n    const stop = (e) => {\n        e.preventDefault()\n        if (parent !== null && document.getElementById(`c-${parent}`) && e.target.parentElement.parentElement.parentElement.id === \"App\") {\n            document.getElementById(`c-${parent}`).appendChild(fileEl.current)\n        }\n        setOffSetX(0)\n        setOffSetY(0)\n        setZ(\"0\")\n        setClassName(\"droppable file\")\n        setUpdate(true)\n        if (!nest && !parent) setNest(document.querySelector(\".App\"))\n        document.removeEventListener('mousemove', drag)\n        document.removeEventListener('mouseup', stop)\n    }\n\n    const nestFolder = (e) => {\n        e.preventDefault()\n        const doc = e.target.parentElement ? e.target.parentElement.parentElement : null;\n        if (doc) {\n            doc.hidden = true\n            let nestable = document.elementFromPoint(e.clientX, e.clientY)\n            if (document.getElementById(\"results-open\") && nestable.className !== \"results-container\") {\n                setCloseSearch(true)\n                setNest(document.querySelector(\".App\"))\n            }\n            if (nestable = nestable.closest(\".droppable\")) {\n                if (nestable.className.slice(0, 7) !== \"current\") {\n                    nestable.className = \"current \" + nestable.className\n                    setNest(nestable)\n                }\n            } else if (nestable = document.querySelector(\".current\")) {\n                nestable.className = nestable.className.slice(8)\n                setNest(document.querySelector(\".App\"))\n            }\n            doc.hidden = false\n        }\n    }\n\n    const handleInput = (e) => {\n        const name = e.target.value.replace(/&nbsp;/g, \" \")\n        setValue(name)\n        delayedQuery(name.length ? name : null);\n    }\n\n    const delayedQuery = useCallback(\n        debounce((name) => renameDriveFile(id, name), 500),\n        []\n    );\n\n    function renameDriveFile(fileId, name) {\n        fetch(`https://www.googleapis.com/drive/v3/files/${fileId}?key=${API_KEY}`, {\n            headers: {\n                'Authorization': `Bearer ${accessToken}`,\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ 'name': `${name}` }),\n            method: 'PATCH'\n        })\n    }\n\n    const handleDoubleClick = () => {\n        window.open(webViewLink)\n    }\n\n    const handleFocus = () => {\n        setInputClassName(\"file-name-container-focus\")\n    }\n\n    const handleBlur = () => {\n        setInputClassName(\"file-name-container\")\n    }\n\n    return (\n        <div \n            id={`d-${id}`}\n            ref={fileEl}\n            className={className}\n            style={{ \"position\": position, \"top\": Math.min(y, dimensions.height - 94), \"left\": Math.min(x, dimensions.width - 94), \"zIndex\": z }}\n            >\n            <div className=\"file-image-container\">\n                <img draggable=\"false\"\n                    id={id}\n                    className=\"file-image\"\n                    alt=\"\"\n                    src={docImage}\n                    onMouseDown={(e) => start(e)}\n                    onDoubleClick={() => handleDoubleClick()}\n                />\n                <img draggable=\"false\"\n                    id={id}\n                    className=\"file-icon\"\n                    alt=\"\"\n                    src={iconLink}\n                    onMouseDown={(e) => start(e)}\n                    onDoubleClick={() => handleDoubleClick()}\n                />\n            </div>\n            <div className={inputClassName} >\n                <ContentEditable\n                    id=\"input\"\n                    html={value ? value : title}\n                    data-column=\"item\"\n                    className=\"content-editable\"\n                    onChange={(e) => handleInput(e)}\n                    onFocus={() => handleFocus()}\n                    onBlur={() => handleBlur()}\n                />\n            </div>\n        </div>\n    )\n}","/Users/justin/Desktop/stuff/projects/react-desktop/src/greeting/greeting.js",[],{"ruleId":"102","replacedBy":"103"},{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","severity":1,"message":"107","line":203,"column":9,"nodeType":"108","endLine":203,"endColumn":48},{"ruleId":"109","severity":1,"message":"110","line":80,"column":66,"nodeType":"111","messageId":"112","endLine":80,"endColumn":68},{"ruleId":"109","severity":1,"message":"110","line":90,"column":62,"nodeType":"111","messageId":"112","endLine":90,"endColumn":64},{"ruleId":"113","severity":1,"message":"114","line":22,"column":3,"nodeType":"115","endLine":22,"endColumn":12,"suggestions":"116"},{"ruleId":"113","severity":1,"message":"117","line":64,"column":6,"nodeType":"118","endLine":64,"endColumn":15,"suggestions":"119"},{"ruleId":"113","severity":1,"message":"120","line":78,"column":6,"nodeType":"118","endLine":78,"endColumn":16,"suggestions":"121"},{"ruleId":"109","severity":1,"message":"122","line":82,"column":16,"nodeType":"111","messageId":"112","endLine":82,"endColumn":18},{"ruleId":"123","severity":1,"message":"124","line":155,"column":11,"nodeType":"125","messageId":"126","endLine":155,"endColumn":52},{"ruleId":"123","severity":1,"message":"124","line":162,"column":18,"nodeType":"125","messageId":"126","endLine":162,"endColumn":63},{"ruleId":"113","severity":1,"message":"127","line":176,"column":24,"nodeType":"115","endLine":176,"endColumn":35},{"ruleId":"113","severity":1,"message":"128","line":22,"column":5,"nodeType":"115","endLine":22,"endColumn":14,"suggestions":"129"},{"ruleId":"113","severity":1,"message":"117","line":42,"column":8,"nodeType":"118","endLine":42,"endColumn":17,"suggestions":"130"},{"ruleId":"102","replacedBy":"131"},{"ruleId":"104","replacedBy":"132"},{"ruleId":"133","severity":1,"message":"134","line":4,"column":8,"nodeType":"115","messageId":"135","endLine":4,"endColumn":19},{"ruleId":"113","severity":1,"message":"136","line":33,"column":8,"nodeType":"118","endLine":33,"endColumn":16,"suggestions":"137"},{"ruleId":"113","severity":1,"message":"138","line":41,"column":8,"nodeType":"118","endLine":41,"endColumn":17,"suggestions":"139"},{"ruleId":"133","severity":1,"message":"140","line":74,"column":11,"nodeType":"115","messageId":"135","endLine":74,"endColumn":15},{"ruleId":"123","severity":1,"message":"124","line":108,"column":17,"nodeType":"125","messageId":"126","endLine":108,"endColumn":58},{"ruleId":"123","severity":1,"message":"124","line":113,"column":24,"nodeType":"125","messageId":"126","endLine":113,"endColumn":69},{"ruleId":"113","severity":1,"message":"141","line":15,"column":5,"nodeType":"115","endLine":15,"endColumn":14,"suggestions":"142"},{"ruleId":"113","severity":1,"message":"117","line":30,"column":8,"nodeType":"118","endLine":30,"endColumn":17,"suggestions":"143"},{"ruleId":"102","replacedBy":"144"},{"ruleId":"104","replacedBy":"145"},{"ruleId":"113","severity":1,"message":"146","line":16,"column":5,"nodeType":"115","endLine":16,"endColumn":14,"suggestions":"147"},{"ruleId":"113","severity":1,"message":"127","line":72,"column":26,"nodeType":"115","endLine":72,"endColumn":37},{"ruleId":"113","severity":1,"message":"148","line":22,"column":8,"nodeType":"118","endLine":22,"endColumn":22,"suggestions":"149"},{"ruleId":"133","severity":1,"message":"150","line":24,"column":12,"nodeType":"115","messageId":"135","endLine":24,"endColumn":23},{"ruleId":"113","severity":1,"message":"151","line":26,"column":5,"nodeType":"115","endLine":26,"endColumn":14,"suggestions":"152"},{"ruleId":"109","severity":1,"message":"122","line":38,"column":42,"nodeType":"111","messageId":"112","endLine":38,"endColumn":44},{"ruleId":"113","severity":1,"message":"117","line":91,"column":8,"nodeType":"118","endLine":91,"endColumn":17,"suggestions":"153"},{"ruleId":"113","severity":1,"message":"120","line":103,"column":8,"nodeType":"118","endLine":103,"endColumn":18,"suggestions":"154"},{"ruleId":"123","severity":1,"message":"124","line":153,"column":17,"nodeType":"125","messageId":"126","endLine":153,"endColumn":58},{"ruleId":"123","severity":1,"message":"124","line":158,"column":24,"nodeType":"125","messageId":"126","endLine":158,"endColumn":69},{"ruleId":"113","severity":1,"message":"127","line":172,"column":26,"nodeType":"115","endLine":172,"endColumn":37},"no-native-reassign",["155"],"no-negated-in-lhs",["156"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect contains a call to 'setUpdate'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [update, nest, checkParents, folders, parent, originalPos, id, setFolders, y, x] as a second argument to the useEffect Hook.","Identifier",["157"],"React Hook useEffect has missing dependencies: 'drag' and 'stop'. Either include them or remove the dependency array.","ArrayExpression",["158"],"React Hook useEffect has missing dependencies: 'nest' and 'parent'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setY' needs the current value of 'nest'.",["159"],"Expected '===' and instead saw '=='.","no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression","missing","React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","React Hook useEffect contains a call to 'setGridRow'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [] as a second argument to the useEffect Hook.",["160"],["161"],["155"],["156"],"no-unused-vars","'Placeholder' is defined but never used.","unusedVar","React Hook useEffect has a missing dependency: 'nest'. Either include it or remove the dependency array.",["162"],"React Hook useEffect has a missing dependency: 'stop'. Either include it or remove the dependency array.",["163"],"'drag' is assigned a value but never used.","React Hook useEffect contains a call to 'setFinished'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [finished, folders, id, width, height, setFolders] as a second argument to the useEffect Hook.",["164"],["165"],["155"],["156"],"React Hook useEffect contains a call to 'setClassName'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [closeSearch, setCloseSearch] as a second argument to the useEffect Hook.",["166"],"React Hook useEffect has missing dependencies: 'fileExists' and 'handleClientLoad'. Either include them or remove the dependency array.",["167"],"'originalPos' is assigned a value but never used.","React Hook useEffect contains a call to 'setUpdate'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [nest, update, folders, duplicate, id, searchItem, title, webViewLink, iconLink, setFolders, y, x] as a second argument to the useEffect Hook.",["168"],["169"],["170"],"no-global-assign","no-unsafe-negation",{"desc":"171","fix":"172"},{"desc":"173","fix":"174"},{"desc":"175","fix":"176"},{"desc":"177","fix":"178"},{"desc":"173","fix":"179"},{"desc":"180","fix":"181"},{"desc":"182","fix":"183"},{"desc":"184","fix":"185"},{"desc":"186","fix":"187"},{"desc":"188","fix":"189"},{"desc":"190","fix":"191"},{"desc":"192","fix":"193"},{"desc":"173","fix":"194"},{"desc":"175","fix":"195"},"Add dependencies array: [update, nest, checkParents, folders, parent, originalPos, id, setFolders, y, x]",{"range":"196","text":"197"},"Update the dependencies array to be: [drag, offSetY, stop]",{"range":"198","text":"199"},"Update the dependencies array to be: [nest, parent, position]",{"range":"200","text":"201"},"Add dependencies array: []",{"range":"202","text":"203"},{"range":"204","text":"199"},"Update the dependencies array to be: [moving, nest]",{"range":"205","text":"206"},"Update the dependencies array to be: [offSetY, stop]",{"range":"207","text":"208"},"Add dependencies array: [finished, folders, id, width, height, setFolders]",{"range":"209","text":"210"},"Update the dependencies array to be: [drag, section, stop]",{"range":"211","text":"212"},"Add dependencies array: [closeSearch, setCloseSearch]",{"range":"213","text":"214"},"Update the dependencies array to be: [fileExists, handleClientLoad, signedInUser]",{"range":"215","text":"216"},"Add dependencies array: [nest, update, folders, duplicate, id, searchItem, title, webViewLink, iconLink, setFolders, y, x]",{"range":"217","text":"218"},{"range":"219","text":"199"},{"range":"220","text":"201"},[2255,2255],", [update, nest, checkParents, folders, parent, originalPos, id, setFolders, y, x]",[2408,2417],"[drag, offSetY, stop]",[2776,2786],"[nest, parent, position]",[1516,1516],", []",[1693,1702],[1359,1367],"[moving, nest]",[1605,1614],"[offSetY, stop]",[843,843],", [finished, folders, id, width, height, setFolders]",[1020,1029],"[drag, section, stop]",[896,896],", [closeSearch, setCloseSearch]",[905,919],"[fileExists, handleClientLoad, signedInUser]",[3404,3404],", [nest, update, folders, duplicate, id, searchItem, title, webViewLink, iconLink, setFolders, y, x]",[3581,3590],[3971,3981]]