{"version":3,"sources":["context_menu/contextmenu.js","folder/folder.js","contents/contentsBorder.js","doc/filledDrive.png","doc/doc.js","contents/contents.js","floating_search_button/floating_search_button.js","gapi/gapi.js","greeting/greeting.js","App.js","reportWebVitals.js","index.js"],"names":["ContextMenu","array","parentClassName","directionReveal","folders","setFolders","setBackground","setOpened","useState","openContexts","setOpenContexts","update","setUpdate","num","useEffect","oldArray","list","map","item","i","type","className","id","onClick","e","target","innerHTML","temp","Math","floor","random","slice","pageY","pageX","parent","Number","children","push","prev","includes","border","document","getElementById","setTimeout","splice","indexOf","recursiveDelete","inital","forEach","ID","filter","_id","folderId","handleClick","text","NestedContext","setClassName","onHover","length","onMouseOver","onMouseLeave","onLeave","Folder","left","top","title","dimensions","opened","folderEl","useRef","value","setValue","offSetX","setOffSetX","offSetY","setOffSetY","position","setPosition","x","setX","y","setY","z","setZ","nest","setNest","originalPos","setOriginalPos","mounted","checkParents","current","alert","querySelector","nestClassName","split","addEventListener","drag","stop","getBoundingClientRect","appendChild","nestID","folderID","console","log","preventDefault","min","max","body","clientHeight","offsetHeight","clientWidth","offsetWidth","nestFolder","parentElement","removeEventListener","folder","hidden","nestable","elementFromPoint","clientX","clientY","closest","prevCurrent","delayedQuery","useCallback","debounce","name","ref","style","height","width","draggable","alt","src","onMouseDown","start","onDoubleClick","contentX","contentY","html","data-column","onChange","replace","handleInput","ContentsBorder","setWidth","setHeight","section","setSection","startX","setStartX","startY","setStartY","startWidth","setStartWidth","startHeight","setStartHeight","finished","setFinished","contentWidth","contentHeight","right","bottom","API_KEY","process","Doc","setCloseSearch","searchItem","webViewLink","iconLink","accessToken","fileEl","inputClassName","setInputClassName","duplicate","setDuplicate","window","confirm","doc","fileId","fetch","headers","JSON","stringify","method","renameDriveFile","handleDoubleClick","open","docImage","onFocus","onBlur","Contents","contentsEl","contentsContainerEl","gridRow","setGridRow","gridCol","setGridCol","dropped","setdropped","contents","row","col","repeat","gridRowStart","gridColumnStart","renderChildren","child","handleMouseDown","handleClose","handleBack","FloatingSearchButton","closeSearch","driveDocuments","setDriveDocuments","inputEl","resultsClassName","setResultsClassName","currentResult","setCurrentResult","handleArrowClick","dir","q","listFiles","searchTerm","gapi","client","drive","files","pageSize","then","response","res","parse","focus","icon","faSearchPlus","handleChange","renderResults","DISCOVERY_DOCS","GAPI","setAccessToken","signedInUser","setSignedInUser","updatable","setUpdatable","appDataId","setAppDataId","fileName","spaces","fields","execute","appData","find","f","get","r","file","Blob","metadata","form","FormData","append","xhr","XMLHttpRequest","setRequestHeader","responseType","onload","send","createPositionsFile","handleClientLoad","updateSigninStatus","isSignedIn","instance","auth2","getAuthInstance","currentUser","je","Qt","key","Object","keys","key2","access_token","initClient","init","apiKey","clientId","discoveryDocs","scope","listen","error","load","signOut","faSignOutAlt","signIn","handleReset","Greeting","App","displayGreeting","setDisplayGreeting","background","setTop","setLeft","setDirectionReveal","setParentClassName","display","setDisplay","contexts","setContexts","innerHeight","innerWidth","setDimensions","handleResize","_","initOpen","index","contentPos","onContextMenu","rightClick","renderFolders","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e3d2a921.chunk.js","sourcesContent":["import './context_menu.css'\nimport {useState, useEffect} from 'react';\n\nexport default function ContextMenu({ array, parentClassName, directionReveal, folders, setFolders, setBackground, setOpened }) {\n\n    const [openContexts, setOpenContexts] = useState([]);\n    const [update, setUpdate] = useState(true);\n\n    let num = 0\n    useEffect(() => {\n        setOpenContexts(oldArray => [...oldArray, \"closed\"])\n    }, [num])\n\n    const handleClick = (e) => {\n        if (e.target.innerHTML === \"New Folder\") {\n            const temp = { ...folders }\n            const id = Math.floor(Math.random() * 1000000000000000)\n            if (e.target.id.slice(3) === \"App\") {\n                temp[id] = {\n                    'top': e.pageY,\n                    'left': e.pageX,\n                    'title': 'New Folder',\n                    'parent': null,\n                    'children': [],\n                    'contentX': null,\n                    'contentY': null,\n                    'contentWidth': 300,\n                    'contentHeight': 300\n                }\n            } else {\n                const parent = Number(e.target.id.slice(5))\n                temp[id] = {\n                    'top': e.pageY,\n                    'left': e.pageX,\n                    'title': 'New Folder',\n                    'parent': parent,\n                    'children': [],\n                    'open': false,\n                    'contentX': null,\n                    'contentY': null,\n                    'contentWidth': 300,\n                    'contentHeight': 300\n                }\n                temp[parent].children.push(id)\n            }\n            setFolders(temp)\n        } else if (e.target.innerHTML === \"Open separate window\") {\n            setOpened(prev => {\n                const id = e.target.id\n                if (prev.includes(Number(id))) {\n                    const border = document.getElementById(`b-${id}`)\n                    border.className = \"flash\"\n                    setTimeout(() => {\n                        border.className = \"\"\n                    }, 2000);\n                    prev.push(prev.splice(prev.indexOf(Number(id)), 1)[0])\n                    return prev\n                }\n                return [...prev, Number(id)]\n            })\n        } else if (e.target.innerHTML === \"Delete Folder\" || e.target.innerHTML === \"Delete File\") {\n            const temp = { ...folders };\n            (function recursiveDelete(id = e.target.id, inital = true) {\n                if (temp[id].children) {\n                    temp[id].children.forEach(ID => {\n                        if (temp[ID].children) {\n                            recursiveDelete(ID, false)\n                        } \n                        setOpened(prev => prev.filter(_id => _id != ID))\n                        delete temp[ID]\n                    })\n                }\n                if (inital) {\n                    if (e.target.innerHTML === \"Delete File\") {\n                        if (temp[id].parent) temp[temp[id].parent].children = temp[temp[id].parent].children.filter(folderId => folderId !== id)\n                    } else {\n                        if (temp[id].parent) temp[temp[id].parent].children = temp[temp[id].parent].children.filter(folderId => folderId !== Number(id))\n                    }\n                    setOpened(prev => prev.filter(_id => _id != id))\n                    delete temp[id]\n                    setFolders(temp)\n                } \n                // delete temp[id]\n            })();\n        } else if (e.target.innerHTML === \"Classic Windows\") {\n            setBackground(\"App background-1\")\n        } else if (e.target.innerHTML === \"Oranges\") {\n            setBackground(\"App background-2\")\n        } else if (e.target.innerHTML === \"Sky\") {\n            setBackground(\"App background-3\")\n        }\n    }\n\n    const list = array.map((item, i) => {\n        if (item.type === \"li\") return <div className=\"contextmenu\" id={item.id} onClick={(e) => handleClick(e)} key={i}>{item.text}</div>\n        if (item.type === \"li with context\") {\n            num++\n            return (\n                <NestedContext \n                    text={item.text} \n                    array={item.array} \n                    parentClassName={parentClassName} \n                    key={i} openContexts={openContexts} \n                    setOpenContexts={setOpenContexts}\n                    num={num - 1}\n                    update={update}\n                    setUpdate={setUpdate}\n                    directionReveal={directionReveal} \n                    setBackground={setBackground}\n                    setOpened={setOpened}\n                />\n            )\n        }\n        return null\n    })\n\n    return (\n        <div className={directionReveal}>\n            {list}\n        </div>\n    )\n}\n\nfunction NestedContext({ text, array, parentClassName, openContexts, num, setOpenContexts, update, setUpdate, directionReveal, setBackground, setOpened }) {\n\n    const [className, setClassName] = useState(\"contextmenu\")\n\n    useEffect(() => {\n        if (parentClassName === \"contextmenu\") setClassName(\"contextmenu\")\n    }, [parentClassName])\n\n    useEffect(() => {\n        if (openContexts[num] === \"closed\") setClassName(\"contextmenu\")\n    }, [update, openContexts, num])\n\n    const onHover = () => {\n        setClassName(\"selector\")\n        setOpenContexts(array => {\n            for (let i = 0; i < array.length; i++) {\n                i === num ? array[i] = \"open\" : array[i] = \"closed\"\n            }\n            return array\n        })\n        setUpdate(!update)\n    }\n\n    const onLeave = (e) => {\n        if (e.target.className === \"contextmenu\") return\n        setClassName(\"contextmenu\")\n        openContexts[num] = \"closed\"\n    }\n\n    return (\n        <div className=\"more-context\" onMouseOver={() => onHover()}>\n            <div className={className} onMouseOver={() => onHover()} onMouseLeave={(e) => onLeave(e)}>\n                {text + \" =>\"}\n            </div>\n            <div className=\"nested-context\" >\n                <ContextMenu array={array} parentClassName={className} directionReveal={directionReveal} setBackground={setBackground} setOpened={setOpened} />\n            </div>\n        </div>\n    )\n}","import './folder.css';\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport ContentEditable from 'react-contenteditable';\nimport { debounce } from 'lodash';\n\nexport default function Folder({ left, top, title, parent, id, folders, setFolders, dimensions, opened, setOpened }) {\n\n  const folderEl = useRef(null)\n  const [value, setValue] = useState(title)\n  const [className, setClassName] = useState(\"droppable folder\")\n  const [offSetX, setOffSetX] = useState(0)\n  const [offSetY, setOffSetY] = useState(0)\n  const [position, setPosition] = useState(parent ? \"grid\" : \"fixed\")\n  const [x, setX] = useState(left)\n  const [y, setY] = useState(top)\n  const [z, setZ] = useState(\"0\")\n  const [nest, setNest] = useState(null)\n  const [originalPos, setOriginalPos] = useState([0, 0])\n  const [update, setUpdate] = useState(false)\n  // const [stopped, setStopped] = useState(false)\n\n  useEffect(() => {\n    let mounted = true\n    if (update && nest && mounted) {\n      if (checkParents(nest.id.slice(2), folderEl.current.id.slice(2))) {\n        alert(\"Nesting a folder into itself is not permitted\")\n        nest.className = nest.className.slice(8)\n        if (parent) {\n          setPosition(null)\n          setNest(null)\n        } else {\n          setX(originalPos[0])\n          setY(originalPos[1])\n          setNest(document.querySelector(\".App\"))\n        }\n        return\n      }\n      const nestClassName = nest.className.split(\" \")\n      const temp = { ...folders }\n      if (nestClassName[1] === \"droppable\") {\n        if (temp[temp[id].parent]) temp[temp[id].parent].children = temp[temp[id].parent].children.filter(folderId => folderId !== id)\n        temp[nest.id.slice(2)].children.push(Number(id))\n        temp[id].parent = Number(nest.id.slice(2))\n        setPosition(null)\n        setFolders(temp)\n        nest.className = nest.className.slice(8)\n      } else if (nest.id === \"App\") {\n        if (temp[temp[id].parent]) temp[temp[id].parent].children = temp[temp[id].parent].children.filter(folderId => folderId !== id)\n        temp[id].parent = null\n        temp[id].top = y\n        temp[id].left = x\n        setFolders(temp)\n      }\n      setUpdate(false)\n      return function cleanup() { mounted = false }\n    } \n  })\n\n  useEffect(() => {\n    if (offSetY) {\n      document.addEventListener('mousemove', drag)\n      document.addEventListener('mouseup', stop)\n    }\n  }, [offSetY])\n\n  useEffect(() => {\n    if (position === null) {\n      if (nest) {\n        setY(nest.getBoundingClientRect().top)\n        setX(nest.getBoundingClientRect().left + 3)\n      }\n      setPosition(\"grid\")\n    } else if (position === \"fixed\") {\n      if (parent !== null) {\n        document.querySelector(\".App\").appendChild(folderEl.current)\n      }\n    }\n  }, [position])\n\n  const checkParents = (nestID, folderID) => {\n    // debugger\n    if (nestID == folderID) {\n      console.log(\"subfolder conflict\")\n      return true\n    }\n    if (folders[nestID] && folders[nestID].parent) {\n      return checkParents(folders[nestID].parent, folderID)\n    }\n  }\n\n  const start = (e) => {\n    setOriginalPos([x, y])\n    setClassName(\"folder\")\n    setZ(\"1000\")\n    // setStopped(false)\n    setOffSetX(e.pageX - e.target.getBoundingClientRect().left + 5)\n    setOffSetY(e.pageY - e.target.getBoundingClientRect().top + 5)\n  }\n\n  const drag = (e) => {\n    e.preventDefault()\n    if (position !== \"fixed\") setPosition(\"fixed\")\n    if (folderEl.current) {\n      setY(Math.min(Math.max(0, e.pageY - offSetY), document.body.clientHeight - folderEl.current.offsetHeight))\n      setX(Math.min(Math.max(0, e.pageX - offSetX), document.body.clientWidth - folderEl.current.offsetWidth))\n    }\n    nestFolder(e)\n  }\n\n  const stop = (e) => {\n    e.preventDefault()\n    if (parent !== null && document.getElementById(`c-${parent}`) && e.target.parentElement.parentElement.parentElement.id === \"App\") {\n      document.getElementById(`c-${parent}`).appendChild(folderEl.current)\n    }\n    setUpdate(true)\n    setOffSetX(0)\n    setOffSetY(0)\n    setZ(\"0\")\n    setClassName(\"droppable folder\")\n    // setStopped(true)\n    if (!nest && !parent) setNest(document.querySelector(\".App\"))\n    document.removeEventListener('mousemove', drag)\n    document.removeEventListener('mouseup', stop)\n  }\n\n  const handleDoubleClick = () => {\n    if (opened.includes(Number(id))) return;\n    setOpened(prev => {\n      if (folders[id].parent) {\n        const temp = { ...folders }\n        temp[id].contentX = temp[folders[id].parent].contentX\n        temp[id].contentY = temp[folders[id].parent].contentY\n        setFolders(temp)\n        prev = prev.filter(ID => folders[id].parent !== ID)\n      }\n      return [ ...prev, Number(id)]\n    })\n  }\n\n  const nestFolder = (e) => {\n    e.preventDefault()\n    const folder = e.target.parentElement ? e.target.parentElement.parentElement : null;\n    if (folder) {\n      folder.hidden = true\n      let nestable = document.elementFromPoint(e.clientX, e.clientY)\n      if (nestable = nestable.closest(\".droppable\")) {\n        const prevCurrent = document.querySelector(\".current\")\n        if (prevCurrent && prevCurrent !== nestable) prevCurrent.className = prevCurrent.className.slice(8)\n        if (nestable.className.slice(0, 7) !== \"current\") {\n          nestable.className = \"current \" + nestable.className\n          setNest(nestable)\n        }\n      } else if (nestable = document.querySelector(\".current\")) {\n        nestable.className = nestable.className.slice(8)\n        setNest(document.querySelector(\".App\"))\n      }\n      folder.hidden = false\n    }\n  }\n\n  const handleInput = (e) => {\n    const name = e.target.value.replace(/&nbsp;/g, \" \")\n    setValue(name)\n    delayedQuery(name.length ? name : null);\n  }\n\n  const delayedQuery = useCallback(\n    debounce((name) => {\n      const temp = { ...folders }\n      temp[id].title = name\n      setFolders(temp)\n    }, 500),\n    []\n  );\n\n  return (\n    <div id={`f-${id}`}\n      ref={folderEl}\n      className={className}\n      style={{ \"position\": position, \"top\": Math.min(y, dimensions.height - 94), \"left\": Math.min(x, dimensions.width - 94), \"zIndex\": z }}>\n      <div className=\"folder-image-container\">\n        <img draggable=\"false\"\n          id={id}\n          className=\"folder-image\"\n          alt=\"\"\n          src=\"http://icon-park.com/imagefiles/folder_icon_yellow.png\"\n          onMouseDown={(e) => start(e)}\n          onDoubleClick={() => handleDoubleClick()} \n        />\n      </div>\n      <div className=\"folder-name-container\" >\n        <ContentEditable\n          id=\"input\"\n          html={value}\n          data-column=\"item\"\n          className=\"content-editable\"\n          onChange={(e) => handleInput(e)} \n        />\n      </div>\n    </div>\n  )\n}","import './contents.css'\nimport React, { useState, useEffect } from 'react';\n\nexport default function ContentsBorder({ id, width, setWidth, height, setHeight, setX, setY, folders, setFolders }) {\n\n    const [section, setSection] = useState(null)\n    const [startX, setStartX] = useState(null)\n    const [startY, setStartY] = useState(null)\n    const [startWidth, setStartWidth] = useState(null)\n    const [startHeight, setStartHeight] = useState(null)\n    const [offSetX, setOffSetX] = useState(0)\n    const [offSetY, setOffSetY] = useState(0)\n    const [finished, setFinished] = useState(false)\n\n    useEffect(() => {\n        if (finished) {\n            const temp = { ...folders }\n            temp[id].contentWidth = width\n            temp[id].contentHeight = height\n            setFolders(temp)\n            setFinished(false)\n        }\n    })\n\n    useEffect(() => {\n        if (section) {\n            document.addEventListener('mousemove', drag)\n            document.addEventListener('mouseup', stop)\n        }\n    }, [section])\n\n    const start = (e) => {\n        setSection(e.target.className)\n        setStartX(e.pageX)\n        setStartY(e.pageY)\n        setStartWidth(width)\n        setStartHeight(height)\n        setOffSetX(e.pageX - e.target.getBoundingClientRect().right)\n        setOffSetY(e.pageY - e.target.getBoundingClientRect().bottom)\n    }\n\n    const drag = (e) => {\n        e.preventDefault()\n        if (section === \"side-top\") {\n            setHeight(Math.max(startHeight - e.pageY + startY, 150))\n            setY(Math.min(e.pageY - offSetY, startY + startHeight - offSetY - 150))\n        } else if (section === \"side-left\") {\n            setWidth(Math.max(startWidth - e.pageX + startX, 150))\n            setX(Math.min(e.pageX - offSetX, startX + startWidth - offSetX - 150))\n        } else if (section === \"side-right\") {\n            setWidth(Math.max(startWidth + e.pageX - startX, 150))\n        } else if (section === \"side-bottom\") {\n            setHeight(Math.max(startHeight + e.pageY - startY, 150))\n        } else if (section === \"corner-1\") {\n            setWidth(Math.max(startWidth - e.pageX + startX, 150))\n            setHeight(Math.max(startHeight - e.pageY + startY, 150))\n            setX(Math.min(e.pageX - offSetX, startX + startWidth - offSetX - 150))\n            setY(Math.min(e.pageY - offSetY, startY + startHeight - offSetY - 150))\n        } else if (section === \"corner-2\") {\n            setWidth(Math.max(startWidth + e.pageX - startX, 150))\n            setHeight(Math.max(startHeight - e.pageY + startY, 150))\n            setY(Math.min(e.pageY - offSetY, startY + startHeight - offSetY - 150))\n        } else if (section === \"corner-3\") {\n            setWidth(Math.max(startWidth - e.pageX + startX, 150))\n            setHeight(Math.max(startHeight + e.pageY - startY, 150))\n            setX(Math.min(e.pageX - offSetX, startX + startWidth - offSetX - 150))\n        } else if (section === \"corner-4\") {\n            setWidth(Math.max(startWidth + e.pageX - startX, 150))\n            setHeight(Math.max(startHeight + e.pageY - startY, 150))\n        }\n    }\n\n    const stop = (e) => {\n        e.preventDefault()\n        document.removeEventListener('mousemove', drag)\n        document.removeEventListener('mouseup', stop)\n        setSection(null)\n        setFinished(true)\n    }\n\n    return (\n        <div id={`b-${id}`} onMouseDown={(e) => start(e)}>\n            <div className=\"corner-1\"></div>\n            <div className=\"corner-2\"></div>\n            <div className=\"corner-3\"></div>\n            <div className=\"corner-4\"></div>\n            <div className=\"side-top\" style={{ \"width\": width }}></div>\n            <div className=\"side-left\" style={{ \"height\": height }}></div>\n            <div className=\"side-right\" style={{ \"height\": height }}></div>\n            <div className=\"side-bottom\" style={{ \"width\": width }}></div>\n        </div>\n    )\n}","export default __webpack_public_path__ + \"static/media/filledDrive.fe42fe8b.png\";","import './doc.css'\nimport React, { useState, useEffect, useRef, useCallback } from 'react'\nimport ContentEditable from 'react-contenteditable'\nimport docImage from './filledDrive.png'\nimport { debounce } from 'lodash'\n\nconst API_KEY = process.env.REACT_APP_API_KEY;\n\nexport default function Doc({ id, title, parent, left, top, folders, setFolders, setCloseSearch, searchItem, webViewLink, iconLink, accessToken, dimensions }) {\n\n    const fileEl = useRef(null)\n    const [className, setClassName] = useState(\"file\")\n    const [inputClassName, setInputClassName] = useState(\"file-name-container\")\n    const [value, setValue] = useState(null)\n    const [offSetX, setOffSetX] = useState(0)\n    const [offSetY, setOffSetY] = useState(0)\n    const [position, setPosition] = useState(parent ? \"grid\" : \"fixed\")\n    const [x, setX] = useState(left)\n    const [y, setY] = useState(top)\n    const [z, setZ] = useState(\"0\")\n    const [nest, setNest] = useState(null)\n    const [duplicate, setDuplicate] = useState(false)\n    const [update, setUpdate] = useState(false)\n    const [originalPos, setOriginalPos] = useState([0, 0])\n\n    useEffect(() => {\n        if (nest && update) {\n            const nestClassName = nest.className.split(\" \")\n            const temp = { ...folders }\n\n            let replace = true;\n            if (duplicate) {\n                if (temp[id].parent === null) {\n                    alert(`${temp[id].title} already exist on the desktop`)\n                    replace = false\n                } else {\n                    debugger\n                    if (nest.id.slice(2) == temp[id].parent) {\n                        alert(`${temp[id].title} already exist in this folder`)\n                    } else if (temp[temp[id].parent] ? window.confirm(`${temp[id].title} already exist in folder ${temp[temp[id].parent].title} -- move it?`) : true) {\n                        console.log(\"replacing\")\n                    } else {\n                        replace = false\n                    }\n                }\n            }\n            \n            if (!temp[id]) {\n                temp[id] = {\n                    'top': null,\n                    'left': null,\n                    'title': title,\n                    'parent': null,\n                    'type': 'doc',\n                    'webViewLink': webViewLink,\n                    'iconLink': iconLink\n                }\n            } else if (temp[temp[id].parent]) {\n                temp[temp[id].parent].children = \n                temp[temp[id].parent].children.filter(folderId => folderId !== id)\n            }\n            \n            if (!replace) {\n                setFolders(temp)\n            } else if (nestClassName[1] === \"droppable\") {\n                temp[nest.id.slice(2)].children.push(Number(id) ? Number(id) : id)\n                temp[id].parent = Number(nest.id.slice(2))\n                setPosition(null)\n                setFolders(temp)\n                nest.className = nest.className.slice(8)\n            } else if (nest.id === \"App\") {\n                temp[id].parent = null\n                temp[id].top = y\n                temp[id].left = x\n                setFolders(temp)\n            }\n            if (searchItem) {\n                document.getElementById(\"results-container\").appendChild(fileEl.current)\n                setY(null)\n                setX(null)\n            }\n            setUpdate(false)\n        }\n    })\n\n    useEffect(() => {\n        if (offSetY) {\n            document.addEventListener('mousemove', drag)\n            document.addEventListener('mouseup', stop)\n        }\n    }, [offSetY])\n\n    useEffect(() => {\n        if (position === null) {\n            setY(nest.getBoundingClientRect().top)\n            setX(nest.getBoundingClientRect().left + 3)\n            setPosition(\"grid\")\n        } else if (position === \"fixed\") {\n            if (parent !== null) {\n                document.querySelector(\".App\").appendChild(fileEl.current)\n            }\n        }\n    }, [position])\n\n    const start = (e) => {\n        if (folders[id] && e.target.closest(\".keep-open\")) {\n            setDuplicate(true)\n        } else if (duplicate) {\n            setDuplicate(false)\n        }\n        setOriginalPos([x, y])\n        setClassName(\"file\")\n        setZ(\"1000\")\n        setOffSetX(e.pageX - e.target.getBoundingClientRect().left + 5)\n        setOffSetY(e.pageY - e.target.getBoundingClientRect().top + 5)\n    }\n\n    const drag = (e) => {\n        e.preventDefault()\n        if (position !== \"fixed\") setPosition(\"fixed\")\n        if (fileEl.current) {\n            setY(Math.min(Math.max(0, e.pageY - offSetY), document.body.clientHeight - fileEl.current.offsetHeight))\n            setX(Math.min(Math.max(0, e.pageX - offSetX), document.body.clientWidth - fileEl.current.offsetWidth))\n        }\n        nestFolder(e)\n    }\n\n    const stop = (e) => {\n        e.preventDefault()\n        if (parent !== null && document.getElementById(`c-${parent}`) && e.target.parentElement.parentElement.parentElement.id === \"App\") {\n            document.getElementById(`c-${parent}`).appendChild(fileEl.current)\n        }\n        setOffSetX(0)\n        setOffSetY(0)\n        setZ(\"0\")\n        setClassName(\"droppable file\")\n        setUpdate(true)\n        if (!nest && !parent) setNest(document.querySelector(\".App\"))\n        document.removeEventListener('mousemove', drag)\n        document.removeEventListener('mouseup', stop)\n    }\n\n    const nestFolder = (e) => {\n        e.preventDefault()\n        const doc = e.target.parentElement ? e.target.parentElement.parentElement : null;\n        if (doc) {\n            doc.hidden = true\n            let nestable = document.elementFromPoint(e.clientX, e.clientY)\n            if (document.getElementById(\"results-open\") && nestable.className !== \"results-container\") {\n                setCloseSearch(true)\n                setNest(document.querySelector(\".App\"))\n            }\n            if (nestable = nestable.closest(\".droppable\")) {\n                if (nestable.className.slice(0, 7) !== \"current\") {\n                    nestable.className = \"current \" + nestable.className\n                    setNest(nestable)\n                }\n            } else if (nestable = document.querySelector(\".current\")) {\n                nestable.className = nestable.className.slice(8)\n                setNest(document.querySelector(\".App\"))\n            }\n            doc.hidden = false\n        }\n    }\n\n    const handleInput = (e) => {\n        const name = e.target.value.replace(/&nbsp;/g, \" \")\n        setValue(name)\n        delayedQuery(name.length ? name : null);\n    }\n\n    const delayedQuery = useCallback(\n        debounce((name) => renameDriveFile(id, name), 500),\n        []\n    );\n\n    function renameDriveFile(fileId, name) {\n        fetch(`https://www.googleapis.com/drive/v3/files/${fileId}?key=${API_KEY}`, {\n            headers: {\n                'Authorization': `Bearer ${accessToken}`,\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ 'name': `${name}` }),\n            method: 'PATCH'\n        })\n    }\n\n    const handleDoubleClick = () => {\n        window.open(webViewLink)\n    }\n\n    const handleFocus = () => {\n        setInputClassName(\"file-name-container-focus\")\n    }\n\n    const handleBlur = () => {\n        setInputClassName(\"file-name-container\")\n    }\n\n    return (\n        <div \n            id={`d-${id}`}\n            ref={fileEl}\n            className={className}\n            style={{ \"position\": position, \"top\": Math.min(y, dimensions.height - 94), \"left\": Math.min(x, dimensions.width - 94), \"zIndex\": z }}\n            >\n            <div className=\"file-image-container\">\n                <img draggable=\"false\"\n                    id={id}\n                    className=\"file-image\"\n                    alt=\"\"\n                    src={docImage}\n                    onMouseDown={(e) => start(e)}\n                    onDoubleClick={() => handleDoubleClick()}\n                />\n                <img draggable=\"false\"\n                    id={id}\n                    className=\"file-icon\"\n                    alt=\"\"\n                    src={iconLink}\n                    onMouseDown={(e) => start(e)}\n                    onDoubleClick={() => handleDoubleClick()}\n                />\n            </div>\n            <div className={inputClassName} >\n                <ContentEditable\n                    id=\"input\"\n                    html={value ? value : title}\n                    data-column=\"item\"\n                    className=\"content-editable\"\n                    onChange={(e) => handleInput(e)}\n                    onFocus={() => handleFocus()}\n                    onBlur={() => handleBlur()}\n                />\n            </div>\n        </div>\n    )\n}","import './contents.css'\nimport React, { useState, useEffect, useRef } from 'react'\nimport ContentsBorder from './contentsBorder'\nimport Folder from '../folder/folder'\nimport Doc from '../doc/doc'\n\nexport default function Contents({ id, children, folders, setFolders, contentX, contentY, contentWidth, contentHeight, dimensions, opened, setOpened, accessToken }) {\n\n    const contentsEl = useRef(null)\n    const contentsContainerEl = useRef(null)\n    const [gridRow, setGridRow] = useState(\"\")\n    const [gridCol, setGridCol] = useState(\"\")\n    const [offSetX, setOffSetX] = useState(0)\n    const [offSetY, setOffSetY] = useState(0)\n    const [x, setX] = useState(contentX)\n    const [y, setY] = useState(contentY)\n    const [className, setClassName] = useState(\"droppable contents\")\n    const [width, setWidth] = useState(contentWidth)\n    const [height, setHeight] = useState(contentHeight)\n    const [dropped, setdropped] = useState(false)\n\n    useEffect(() => {\n        const contents = contentsEl.current\n        const width = contents.clientWidth\n        const height = contents.clientHeight\n        const row = Math.floor(height / 100)\n        const col = Math.floor(width / 100)\n        setGridRow(\"100px \".repeat(row))\n        setGridCol(\"100px \".repeat(col))\n        const children = contents.children\n        for (let i = 0; i < children.length; i++) {\n            children[i].style.gridRowStart = Math.floor(i / col) + 1\n            children[i].style.gridColumnStart = (i + 1) % col || col\n        }\n    })\n\n    useEffect(() => {\n        if (offSetY) {\n            document.addEventListener('mousemove', drag)\n            document.addEventListener('mouseup', stop)\n        }\n    }, [offSetY])\n\n    useEffect(() => {\n        if (dropped) {\n            const temp = { ...folders }\n            temp[id.slice(2)].contentX = x\n            temp[id.slice(2)].contentY = y\n            setFolders(temp)\n            setdropped(false)\n        }\n    }, [dropped, folders, id, x, y, setFolders])\n\n    const start = (e) => {\n        if (e.target.className === \"close-button\" || e.target.className === \"back-button\") return\n        setClassName(\"contents\")\n        document.querySelector(\".App\").appendChild(contentsContainerEl.current)\n        setOffSetX(e.pageX - e.target.getBoundingClientRect().left)\n        setOffSetY(e.pageY - e.target.getBoundingClientRect().top)\n    }\n\n    const drag = (e) => {\n        e.preventDefault()\n        if (contentsContainerEl.current) {\n            setY(Math.min(Math.max(0, e.pageY - offSetY), document.body.clientHeight - contentsContainerEl.current.offsetHeight))\n            setX(Math.min(Math.max(0, e.pageX - offSetX), document.body.clientWidth - contentsContainerEl.current.offsetWidth))\n        }\n    }\n\n    const stop = (e) => {\n        e.preventDefault()\n        setOffSetX(0)\n        setOffSetY(0)\n        setClassName(\"droppable contents\")\n        setdropped(true)\n        document.removeEventListener('mousemove', drag)\n        document.removeEventListener('mouseup', stop)\n        setOpened(prev => {\n            prev.push(prev.splice(prev.indexOf(Number(id.slice(2))), 1)[0])\n            return prev\n        })\n    }\n\n    const handleClose = () => {\n        const _id = Number(id.slice(2))\n        setOpened(prev => prev.filter(id => id !== _id))\n    }\n\n    const handleBack = () => {\n        const _id = Number(id.slice(2))\n        if (folders[_id].parent) {\n            setOpened(prev => {\n                const temp = { ...folders }\n                temp[folders[_id].parent].contentX = temp[_id].contentX\n                temp[folders[_id].parent].contentY = temp[_id].contentY\n                setFolders(temp)\n                prev = prev.filter(id => id !== _id)\n                return [...prev, Number(folders[_id].parent)]\n            })\n        }\n    }\n\n    const handleMouseDown = (e) => {\n        if (e.target.className === \"close-button\" || e.target.className === \"folder-image\" || e.target.className === \"file-image\" || e.target.className === \"back-button\") return\n        document.querySelector(\".App\").appendChild(contentsContainerEl.current)\n    }\n\n    const renderChildren = children.map(child => {\n        return (\n            folders[child].type ? \n            <Doc \n                id={child}\n                top={folders[child].top}\n                left={folders[child].left}\n                title={folders[child].title}\n                parent={folders[child].parent}\n                webViewLink={folders[child].webViewLink}\n                iconLink={folders[child].iconLink}\n                folders={folders}\n                setFolders={setFolders}\n                accessToken={accessToken}\n                dimensions={dimensions}\n                key={child}\n            />\n            :\n            <Folder \n                id={child}\n                top={folders[child].top}\n                left={folders[child].left} \n                title={folders[child].title} \n                children={folders[child].children} \n                parent={folders[child].parent} \n                folders={folders}\n                setFolders={setFolders}\n                dimensions={dimensions}\n                opened={opened}\n                setOpened={setOpened}\n                key={child} \n            />\n        )\n    })\n\n    return (\n        <div ref={contentsContainerEl}\n            className=\"contents-container\"\n            onMouseDown={(e) => handleMouseDown(e)}\n            style={{ \"display\": \"grid\", \"top\": Math.min(y, dimensions.height - height - 5), \"left\": Math.min(x, dimensions.width - width - 5), \"width\": `${width}px`, \"height\": `${height}px` }}>\n            <ContentsBorder \n                id={id.slice(2)}\n                width={width} \n                setWidth={setWidth} \n                height={height} \n                setHeight={setHeight} \n                setX={setX} \n                setY={setY} \n                folders={folders}\n                setFolders={setFolders} />\n            <div className=\"contents-handle\"\n                onMouseDown={(e) => start(e)}>\n                <div className=\"close-button\" onClick={() => handleClose()}>&#10006;</div>\n                <div className=\"back-button\" onClick={() => handleBack()}>{\"<\"}</div>\n            </div>\n            <div\n                id={id}\n                ref={contentsEl}\n                className={className}\n                style={{ \"gridTemplateColumns\": gridCol, \"gridTemplateRows\": gridRow, \"width\": `${width}px`, \"height\": `${height - 15}px` }}>\n                {renderChildren}\n            </div>\n        </div>\n    )\n}","import { gapi } from 'gapi-script';\nimport { debounce } from 'lodash';\nimport './floating_search_button.css'\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport Doc from '../doc/doc'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearchPlus } from '@fortawesome/free-solid-svg-icons'\n\nexport default function FloatingSearchButton({ closeSearch, setCloseSearch, driveDocuments, setDriveDocuments, folders, setFolders, dimensions }) {\n\n    const inputEl = useRef(null)\n    const [className, setClassName] = useState(\"fsb\")\n    const [resultsClassName, setResultsClassName] = useState(\"results-closed\")\n    const [currentResult, setCurrentResult] = useState(0)\n\n    useEffect(() => {\n        if (closeSearch) {\n            setClassName(\"fsb\")\n            setCloseSearch(false)\n            setResultsClassName(\"results-closed\")\n        }\n    })\n\n    const handleClick = (e) => {\n        if (e.target.className === \"left-arrow\" \n            || e.target.className === \"right-arrow\" \n            || e.target.className === \"fsb-input\"\n            || e.target.className === \"results-open\"\n            || e.target.id === \"input\") return;\n        setCurrentResult(0)\n        setDriveDocuments([])\n        setClassName(\"fsb-open\")\n        setResultsClassName(\"results-open\")\n        inputEl.current.value = \"\"\n        inputEl.current.focus()\n    }\n\n    const handleArrowClick = (dir) => {\n        if (dir === \"right\") {\n            setCurrentResult((currentResult + 1) % driveDocuments.length)\n        } else {\n            setCurrentResult(currentResult ? (currentResult - 1) % driveDocuments.length : driveDocuments.length - 1)\n        }\n    }\n\n    const renderResults = () => {\n        if (driveDocuments[currentResult]) {\n            const { id, name, webViewLink, iconLink } = driveDocuments[currentResult]\n            return (\n                <Doc\n                    id={id}\n                    title={name}\n                    folders={folders}\n                    left={null}\n                    top={null}\n                    parent={\"search\"}\n                    setFolders={setFolders}\n                    setCloseSearch={setCloseSearch}\n                    searchItem={true}\n                    webViewLink={webViewLink}\n                    iconLink={iconLink}\n                    dimensions={dimensions}\n                />\n            )\n        }\n    }\n\n    const handleChange = (e) => {\n        delayedQuery(e.target.value.length ? `name contains '${e.target.value}'` : null);\n    }\n\n    const delayedQuery = useCallback(\n        debounce((q) => listFiles(q), 500),\n        []\n    );\n\n    const listFiles = (searchTerm = null) => {\n        if (searchTerm) {\n            gapi.client.drive.files.list({\n                pageSize: 10,\n                'fields': \"nextPageToken, files(kind, id, name, webViewLink, iconLink, mimeType)\",\n                q: searchTerm,\n            })\n                .then(function (response) {\n                    const res = JSON.parse(response.body);\n                    setDriveDocuments(res.files);\n                });\n        } else {\n            setDriveDocuments([]);\n        }\n    };\n\n    return (\n        <div className=\"fsb-container keep-open\"\n            onClick={(e) => handleClick(e)}>\n            <div className=\"fsb-left\"></div>\n            {resultsClassName === \"results-closed\" ? <div className=\"center-search\"><FontAwesomeIcon icon={faSearchPlus} /></div> : null}\n            <div className={className}>\n                <input ref={inputEl} className=\"fsb-input\" onChange={(e) => handleChange(e)}></input>\n            </div>\n            <div className=\"fsb-right\"></div>\n            {\n                driveDocuments[currentResult] ?\n                    <div\n                        id={resultsClassName}\n                        className={resultsClassName}>\n                        <div className=\"left-arrow\" onClick={() => handleArrowClick(\"left\")}></div>\n                        <div id=\"results-container\" className=\"results-container\">\n                            {renderResults()}\n                        </div>\n                        <div className=\"right-arrow\" onClick={() => handleArrowClick(\"right\")}></div>\n                    </div>\n                    :\n                    null\n            }\n        </div>\n    )\n}","import './gapi.css'\nimport { gapi } from 'gapi-script';\nimport React, { useState, useEffect } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSignOutAlt } from '@fortawesome/free-solid-svg-icons'\n\nconst CLIENT_ID = process.env.REACT_APP_CLIENT_ID;\nconst API_KEY = process.env.REACT_APP_API_KEY;\nconst DISCOVERY_DOCS = ['https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'];\nconst SCOPES = \"https://www.googleapis.com/auth/drive  https://www.googleapis.com/auth/drive.appdata\";\n\nexport default function GAPI({ folders, setFolders, accessToken, setAccessToken, signedInUser, setSignedInUser }) {\n    const [updatable, setUpdatable] = useState(false)\n    const [appDataId, setAppDataId] = useState(null)\n\n    useEffect(() => {\n        if (!signedInUser) {\n            handleClientLoad()\n        } else {\n            fileExists(\"nerwer_data\")\n        }\n    }, [signedInUser])\n\n    useEffect(() => {\n        if (updatable && appDataId && accessToken) {\n            const xhr = new XMLHttpRequest();\n            xhr.open('PATCH', 'https://www.googleapis.com/upload/drive/v3/files/' + appDataId + '?uploadType=media');\n            xhr.setRequestHeader('Authorization', 'Bearer ' + accessToken);\n            xhr.responseType = 'json';\n            xhr.send(JSON.stringify(folders));\n        }\n    }, [folders, updatable, appDataId, accessToken])\n\n    /**\n     *  Sign in the user upon button click.\n     */\n    const handleAuthClick = (event) => {\n        gapi.auth2.getAuthInstance().signIn();\n    };\n\n    /**\n     *  Called when the signed in status changes, to update the UI\n     *  appropriately. After a sign-in, the API is called.\n     */\n    const updateSigninStatus = (isSignedIn) => {\n        if (isSignedIn) {\n            // Set the signed in user\n            const instance = gapi.auth2.getAuthInstance()\n            setSignedInUser(instance.currentUser.je.Qt);\n\n            // get access token\n            const key = Object.keys(instance.currentUser)[0]\n            const key2 = Object.keys(instance.currentUser[key])[1]\n            setAccessToken(instance.currentUser[key][key2].access_token)\n        } else {\n            // prompt user to sign in\n            // handleAuthClick();\n            // greeting()\n        }\n    };\n\n    /**\n     *  Sign out the user upon button click.\n     */\n    const handleSignOutClick = () => {\n        gapi.auth2.getAuthInstance().signOut();\n        setSignedInUser(null);\n    };\n\n    /**\n     *  Initializes the API client library and sets up sign-in state\n     *  listeners.\n     */\n    const initClient = () => {\n        gapi.client\n            .init({\n                apiKey: API_KEY,\n                clientId: CLIENT_ID,\n                discoveryDocs: DISCOVERY_DOCS,\n                scope: SCOPES,\n            }).then(\n                function () {\n                    // Listen for sign-in state changes.\n                    gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);\n\n                    // Handle the initial sign-in state.\n                    updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n                },\n                function (error) { \n                    alert(JSON.stringify(error, null, 2));\n                }\n            );\n    };\n\n    const handleClientLoad = () => {\n        gapi.load('client:auth2', initClient);\n    };\n\n    function fileExists(fileName) {\n        const request = gapi.client.drive.files.list({\n            spaces: 'appDataFolder',\n            fields: 'files(id, name, modifiedTime)'\n        });\n        request.execute(res => {\n            const appData = res.files.find(f => f.name === fileName)\n            if (appData) {\n                gapi.client.drive.files.get({\n                    'fileId': appData.id,\n                    'alt': 'media'\n                }).then(r => {\n                    setFolders(JSON.parse(r.body))\n                    setAppDataId(appData.id)\n                    setUpdatable(true)\n                })\n            } else {\n                createPositionsFile()\n            }\n        });\n    };\n\n    function createPositionsFile() {\n        var file = new Blob([JSON.stringify(folders)], { type: 'text/javascript' });\n        var metadata = {\n            'name': 'nerwer_data', // Filename at Google Drive\n            'mimeType': 'text/javascript', // mimeType at Google Drive\n            'parents': ['appDataFolder']\n        };\n        // id: \"1aQcrCKWjnS9uU2cYpWEHioC2JkswMdkcHPiokt6aGc2ydBwBfA\"\n        var form = new FormData();\n        form.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));\n        form.append('file', file);\n\n        var xhr = new XMLHttpRequest();\n        xhr.open('post', 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + accessToken);\n        xhr.responseType = 'json';\n        xhr.onload = () => {\n            console.log(xhr.response.id); // Retrieve uploaded file ID.\n        };\n        xhr.send(form);\n    }\n\n    const handleReset = () => {\n        const xhr = new XMLHttpRequest();\n        xhr.open('PATCH', 'https://www.googleapis.com/upload/drive/v3/files/' + appDataId + '?uploadType=media');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + accessToken);\n        xhr.responseType = 'json';\n        xhr.send(JSON.stringify({}));\n    }\n\n    return (\n        <div className=\"auth-container\">\n            {signedInUser ? \n                <button className=\"center\" onClick={() => handleSignOutClick()}><FontAwesomeIcon icon={faSignOutAlt} /></button>\n                : \n                <button onClick={() => handleAuthClick()}>Authorize</button>}\n            {signedInUser ? \n                \" to lose said functionality!\"\n                : \n                \" to gain said functionality!\"}\n            <button style={{ position: \"fixed\", top: \"0\", left: \"0\" }}onClick={() => handleReset()}>reset</button>\n        </div>\n    );\n};","import './greeting.css'\nimport React from 'react'\nimport GAPI from '../gapi/gapi'\n\nexport default function Greeting({ signedInUser, setSignedInUser, folders, setFolders, accessToken, setAccessToken }) {\n    \n    return (\n        <div className={signedInUser ? \"greeting-closed\" : \"greeting-opened\" } >\n            <span className=\"greeting-close\">&#10006;</span>\n            <br />\n            Welcome to (your) myDesktop: a desktop for Google Drive!\n            <br />\n            Use it like your OS desktop\n            <br />\n            <ul>\n                <li>Drag and drop and nest files and folders</li>\n                <li>Right click for context menu</li>\n                <li>Search your drive by clicking on the search button and querying in the input field</li>\n            </ul>\n            <br />\n            By authorizing, you are allowing myDesktop to access your Drive through Google DriveAPI.\n            This allows you to search your documents and organize them within the myDesktop UI.\n            Additionally, when you rename your documents on myDesktop, a patch request is sent to your drive to update it there as well.\n            Lastly, your document and folder positions are saved so you can return where you left off.\n            <br />\n            <br />\n            <GAPI\n                folders={folders}\n                setFolders={setFolders}\n                accessToken={accessToken}\n                setAccessToken={setAccessToken}\n                signedInUser={signedInUser}\n                setSignedInUser={setSignedInUser}\n            />\n        </div>\n    )\n}","import './App.css';\nimport { useEffect, useState } from 'react';\nimport ContextMenu from './context_menu/contextmenu';\nimport Folder from './folder/folder';\nimport Contents from './contents/contents';\nimport FloatingSearchButton from './floating_search_button/floating_search_button';\nimport Doc from './doc/doc';\nimport Greeting from './greeting/greeting'\n\nfunction App() {\n\n  const [signedInUser, setSignedInUser] = useState(null)\n  const [displayGreeting, setDisplayGreeting] = useState(false)\n  const [background, setBackground] = useState(\"App background-1\")\n  const [top, setTop] = useState(\"0px\")\n  const [left, setLeft] = useState(\"0px\")\n  const [directionReveal, setDirectionReveal] = useState(\"right-reveal\")\n  const [parentClassName, setParentClassName] = useState(\"new-location\")\n  const [display, setDisplay] = useState(\"none\")\n  const [contexts, setContexts] = useState([])\n  const [opened, setOpened] = useState([])\n  const [closeSearch, setCloseSearch] = useState(false)\n  const [driveDocuments, setDriveDocuments] = useState([])\n  const [folders, setFolders] = useState({})\n  const [accessToken, setAccessToken] = useState(null)\n  const [dimensions, setDimensions] = useState({\n    height: window.innerHeight,\n    width: window.innerWidth\n  })\n\n  useEffect(() => {\n    function handleResize() {\n      setDimensions({\n        height: window.innerHeight,\n        width: window.innerWidth\n      })\n    }\n    window.addEventListener('resize', handleResize)\n    return _ => {\n      window.removeEventListener('resize', handleResize)\n    }\n  })\n\n  const rightClick = (e) => {\n    e.preventDefault()\n    setDisplay(\"block\")\n    setParentClassName(\"contextmenu\")\n    if (e.clientX > (window.innerWidth / 4) * 3) {\n      e.clientY > (window.innerHeight / 4) * 3 ? setDirectionReveal(\"left-reveal bottom\") : setDirectionReveal(\"left-reveal\")\n      setTop(e.clientY + \"px\")\n      setLeft(e.clientX + 160 + \"px\")\n    } else {\n      e.clientY > (window.innerHeight / 4) * 3 ? setDirectionReveal(\"right-reveal bottom\") : setDirectionReveal(\"right-reveal\")\n      setTop(e.clientY + \"px\")\n      setLeft(e.clientX + 5 + \"px\")\n    }\n    if (e.target.className === \"folder-image\") {\n      setContexts([\n        {\n          type: \"li\",\n          text: \"Delete Folder\",\n          id: e.target.id\n        },\n        {\n          type: \"li\",\n          text: \"Open separate window\",\n          id: e.target.id\n        }\n      ])\n    } else if (e.target.className === \"file-image\") {\n      setContexts([{\n        type: \"li\",\n        text: \"Delete File\",\n        id: e.target.id\n      }])\n    } else {\n      setContexts([\n        {\n          type: \"li\",\n          text: \"New Folder\",\n          id: `nf-${e.target.id}`\n        },\n        {\n          type: \"li with context\",\n          text: \"Change Background\",\n          array: [\n            {\n              type: \"li\",\n              text: \"Classic Windows\",\n            },\n            {\n              type: \"li\",\n              text: \"Oranges\",\n            },\n            {\n              type: \"li\",\n              text: \"Sky\",\n            },\n          ]\n        },\n      ])\n    }\n  }\n\n  const handleClick = (e) => {\n    e.preventDefault()\n    setDisplay(\"none\")\n    if (!e.target.closest(\".keep-open\")) setCloseSearch(true)\n  }\n\n  useEffect(() => {\n    setParentClassName(\"new-location\")\n  }, [parentClassName])\n\n  const renderFolders = () => {\n    const renderFolders = []\n    for (const folder in folders) {\n      if (folders[folder].parent === null) {\n        renderFolders.push(\n          folders[folder].type ? \n          <Doc \n            id={folder}\n            top={folders[folder].top}\n            left={folders[folder].left}\n            title={folders[folder].title}\n            parent={folders[folder].parent}\n            webViewLink={folders[folder].webViewLink}\n            iconLink={folders[folder].iconLink}\n            folders={folders}\n            setFolders={setFolders}\n            accessToken={accessToken}\n            dimensions={dimensions}\n            key={folder}\n          />\n          :\n          <Folder\n            id={folder}\n            top={folders[folder].top}\n            left={folders[folder].left}\n            title={folders[folder].title}\n            folders={folders}\n            setFolders={setFolders}\n            parent={null}\n            dimensions={dimensions}\n            opened={opened}\n            setOpened={setOpened}\n            key={folder} \n          />\n        )\n      }\n    }\n    return renderFolders\n  }\n\n  const renderContents = () => {\n    return opened.map((folder, index) => {\n      if (folders[folder].contentX === null) initOpen(folder, index)\n      return <Contents\n        id={`c-${folder}`}\n        children={folders[folder].children}\n        folders={folders}\n        setFolders={setFolders}\n        contentX={folders[folder].contentX}\n        contentY={folders[folder].contentY}\n        contentWidth={folders[folder].contentWidth}\n        contentHeight={folders[folder].contentHeight}\n        dimensions={dimensions}\n        opened={opened}\n        setOpened={setOpened}\n        accessToken={accessToken}\n        key={`c-${folder}`}\n      />\n    })\n  }\n\n  const initOpen = (folder, index) => {\n    const temp = { ...folders }\n    const contentPos = { x: 300 + (index * 15), y: 300 - (index * 15) }\n    opened.forEach(folder => {\n      const { contentX, contentY } = folders[folder]\n      if (contentX === contentPos.x && contentY === contentPos.y) {\n        contentPos.x = contentPos.x + ((opened.length - index) * 15)\n        contentPos.y = contentPos.y - ((opened.length - index) * 15)\n      }\n    })\n    folders[folder].contentX = contentPos.x\n    folders[folder].contentY = contentPos.y\n    setFolders(temp)\n  }\n\n  return (\n    <div id=\"App\"\n      className={background}\n      onClick={(e) => handleClick(e)}\n      onContextMenu={(e) => rightClick(e)}>\n      <Greeting\n        displayGreeting={displayGreeting}\n        setDisplayGreeting={setDisplayGreeting}\n        folders={folders}\n        setFolders={setFolders}\n        accessToken={accessToken}\n        setAccessToken={setAccessToken}\n        setDisplayGreeting={setDisplayGreeting}\n        signedInUser={signedInUser}\n        setSignedInUser={setSignedInUser}\n      /> \n      <div style={{ \"display\": display, \"position\": \"fixed\", \"top\": top, \"left\": left, \"flexDirection\": \"row-reverse\", \"zIndex\": \"10000\" }}>\n        <ContextMenu\n          parentClassName={parentClassName}\n          directionReveal={directionReveal}\n          folders={folders}\n          setFolders={setFolders}\n          array={contexts} \n          setBackground={setBackground}\n          setOpened={setOpened}\n        />\n      </div>\n      {renderFolders()}\n      {renderContents()}\n      <FloatingSearchButton \n        closeSearch={closeSearch} \n        setCloseSearch={setCloseSearch} \n        driveDocuments={driveDocuments} \n        setDriveDocuments={setDriveDocuments}\n        folders={folders} \n        setFolders={setFolders} \n        dimensions={dimensions}\n      />\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}